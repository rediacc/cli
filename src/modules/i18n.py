#!/usr/bin/env python3
"""
Internationalization (i18n) module for Rediacc CLI GUI
Supports multiple languages with easy translation management
"""

from typing import Dict, Optional
import json
import os
from pathlib import Path
from config_path import get_config_dir


class I18n:
    """Internationalization manager for GUI application"""
    
    # Available languages
    LANGUAGES = {
        'en': 'English',
        'de': 'Deutsch',
        'es': 'Español',
        'fr': 'Français',
        'ja': '日本語',
        'ar': 'العربية',
        'ru': 'Русский',
        'tr': 'Türkçe',
        'zh': '中文'
    }
    
    # Default language
    DEFAULT_LANGUAGE = 'en'
    
    def __init__(self):
        self.current_language = self.DEFAULT_LANGUAGE
        self.translations = self._load_translations()
        self._observers = []
    
    def _load_translations(self) -> Dict[str, Dict[str, str]]:
        """Load all translations"""
        return {
            'en': {
                # General
                'app_title': 'Rediacc CLI Tools',
                'ready': 'Ready',
                'error': 'Error',
                'success': 'Success',
                'confirm': 'Confirm',
                'cancel': 'Cancel',
                'yes': 'Yes',
                'no': 'No',
                'loading': 'Loading...',
                'logout': 'Logout',
                'language': 'Language',
                
                # Login window
                'login_title': 'Rediacc CLI - Login',
                'login_header': 'Rediacc CLI Login',
                'email': 'Email:',
                'password': 'Password:',
                'master_password': 'Master Password:',
                'login': 'Login',
                'logging_in': 'Logging in...',
                'login_successful': 'Login successful!',
                'login_failed': 'Login failed',
                'please_enter_credentials': 'Please enter both email and password',
                
                # 2FA translations
                'tfa_code': '2FA Code',
                'tfa_help': 'Enter the 6-digit code from your authenticator app',
                'tfa_required': 'Two-factor authentication required. Please enter your 6-digit code.',
                'enter_tfa_code': 'Enter 2FA code: ',
                
                # Main window
                'user': 'User:',
                'logout_confirm': 'Are you sure you want to logout?',
                'resource_selection': 'Resource Selection',
                'team': 'Team:',
                'machine': 'Machine:',
                'repository': 'Repository:',
                
                # Tabs
                'plugin_manager': 'Plugin Manager',
                'terminal_access': 'Terminal Access',
                'file_sync': 'File Sync',
                
                # Plugin Manager tab
                'plugin_management': 'Plugin Management',
                'available_plugins': 'Available Plugins',
                'refresh_plugins': 'Refresh Plugins',
                'connect_to_plugin': 'Connect to Plugin',
                'plugin': 'Plugin:',
                'local_port': 'Local Port',
                'auto_port': 'Auto (7111-9111)',
                'manual_port': 'Manual:',
                'connect': 'Connect',
                'active_connections': 'Active Connections',
                'open_in_browser': 'Open in Browser',
                'copy_url': 'Copy URL',
                'disconnect': 'Disconnect',
                'refresh_status': 'Refresh Status',
                'plugin_tip': 'Tip: Double-click to open URL • Ctrl+C to copy URL',
                'found_plugins': 'Found {count} plugins',
                'found_connections': 'Found {count} active connections',
                'connecting_to': 'Connecting to {plugin}...',
                'disconnecting': 'Disconnecting {plugin}...',
                'disconnect_confirm': 'Disconnect {plugin}?',
                'successfully_connected': 'Successfully connected to {plugin}',
                'access_at': 'Access at: {url}',
                'connection_failed': 'Connection failed',
                'disconnected': 'Disconnected {plugin}',
                'disconnect_failed': 'Disconnect failed',
                'opened_in_browser': 'Opened {url} in browser',
                'copied_to_clipboard': 'Copied {url} to clipboard',
                'port_error': 'Please enter a port number',
                'port_range_error': 'Port must be between 1024 and 65535',
                'invalid_port': 'Invalid port number',
                
                # Terminal tab
                'command': 'Command:',
                'execute_command': 'Execute Command',
                'open_repo_terminal': 'Open Interactive Repo Terminal',
                'open_machine_terminal': 'Open Interactive Machine Terminal',
                'output': 'Output:',
                'command_executed': 'Command executed',
                'executing_command': 'Executing command...',
                'terminal_instructions': 'To open {description}, run this command in a terminal window:',
                'or_from_any_directory': 'Or from any directory:',
                'launched_terminal': 'Launched terminal window...',
                'launched_wt': 'Launched in Windows Terminal...',
                'launched_wsl': 'Launched in new WSL window...',
                'could_not_launch': 'Note: Could not launch terminal automatically in WSL.',
                'select_all_fields': 'Please select team, machine, repository and enter a command',
                'select_team_machine_repo': 'Please select team, machine and repository',
                'select_team_machine': 'Please select team and machine',
                
                # File Sync tab
                'direction': 'Direction:',
                'upload': 'Upload',
                'download': 'Download',
                'local_path': 'Local Path:',
                'browse': 'Browse...',
                'options': 'Options',
                'mirror_delete': 'Mirror (delete extra files)',
                'verify_transfer': 'Verify after transfer',
                'preview_changes': 'Preview changes (--confirm)',
                'start_sync': 'Start Sync',
                'sync_completed': 'Sync completed',
                'starting_sync': 'Starting {direction}...',
                'fill_all_fields': 'Please fill in all fields',
                
                # Status messages
                'loading_teams': 'Loading teams...',
                'loading_machines': 'Loading machines for {team}...',
                'loading_repositories': 'Loading repositories for {team}...',
                'loading_plugins': 'Loading plugins...',
                'refreshing_connections': 'Refreshing connections...',
                'authentication_expired': 'Authentication expired. Please login again.',
                'session_expired': 'Your session has expired. Please login again.',
                
                # Error messages
                'failed_to_load_teams': 'Failed to load teams',
                'failed_to_load_machines': 'Failed to load machines',
                'failed_to_load_repositories': 'Failed to load repositories',
                'select_connection': 'Please select a connection to {action}',
                'select_all_plugin_fields': 'Please select all fields',
                
                # Window titles
                'an_interactive_repo_terminal': 'an interactive repository terminal',
                'an_interactive_machine_terminal': 'an interactive machine terminal',
                
                # File Browser tab
                'file_browser': 'File Browser',
                'local_files': 'Local Files',
                'remote_files': 'Remote Files',
                'file_preview': 'File Preview',
                'show_preview': 'Show Preview',
                'hide_preview': 'Hide Preview',
                
                # File types and navigation
                'file': 'File',
                'folder': 'Folder',
                'name': 'Name',
                'size': 'Size',
                'modified': 'Modified',
                'type': 'Type',
                'permissions': 'Permissions',
                'owner': 'Owner',
                'parent_directory': 'Parent Directory',
                'home': 'Home',
                'refresh': 'Refresh',
                'new_folder': 'New Folder',
                'open': 'Open',
                'delete': 'Delete',
                'rename': 'Rename',
                'properties': 'Properties',
                
                # Connection and status
                'connected': 'Connected',
                'not_connected': 'Not connected',
                'connecting': 'Connecting...',
                'connection_failed': 'Connection Failed',
                'failed_connect_remote': 'Failed to connect to remote: {error}',
                
                # Search and filter
                'search': 'Search:',
                'clear': 'Clear',
                'filtered': 'filtered',
                
                # Transfer operations
                'upload_arrow': 'Upload →',
                'download_arrow': '← Download',
                'upload_selected': 'Upload selected',
                'download_selected': 'Download selected',
                'confirm_upload': 'Confirm Upload',
                'confirm_download': 'Confirm Download',
                'upload_confirm_message': 'Upload the following to {path}:\n\n{files}',
                'download_confirm_message': 'Download the following to {path}:\n\n{files}',
                'transfer_progress': 'Transfer Progress',
                'overall_progress': 'Overall Progress',
                'current_file': 'Current File',
                'preparing_transfer': 'Preparing transfer...',
                'dry_run_mode': 'DRY RUN MODE - ',
                'completed': 'completed',
                'transferred': 'Files transferred',
                'transfer_complete': 'Transfer Complete',
                'transfer_complete_message': 'Transfer completed successfully!\n\nTransferred: {count} files',
                'transfer_cancelled': 'Transfer Cancelled',
                'transfer_cancelled_message': 'Transfer was cancelled.\n\nCompleted: {completed} of {total} files',
                'transfer_failed': 'Transfer Failed',
                'transfer_options': 'Transfer Options',
                
                # File operations and errors
                'failed_list_local': 'Failed to list local directory: {error}',
                'failed_list_remote': 'Failed to list remote directory: {error}',
                'failed_refresh_remote': 'Failed to refresh remote: {error}',
                'invalid_directory': 'Invalid directory path',
                'invalid_path': 'Invalid path: {error}',
                'loading_remote_files': 'Loading remote files...',
                'local_items': 'Local: {count} items',
                'remote_items': 'Remote: {count} items',
                'select_files_to_transfer': 'Please select files to transfer',
                'preview_size_limit': 'File too large to preview (limit: 1MB)',
                'preview_error': 'Error loading preview: {error}',
                'enter_folder_name': 'Enter folder name:',
                'folder_name': 'Folder Name',
                'folder_exists': 'Folder already exists',
                'failed_create_folder': 'Failed to create folder: {error}',
                'confirm_delete': 'Confirm Delete',
                'delete_confirm_message': 'Are you sure you want to delete:\n\n{files}',
                'failed_delete': 'Failed to delete: {error}',
                'rename_item': 'Rename Item',
                'enter_new_name': 'Enter new name:',
                'item_exists': 'An item with that name already exists',
                'failed_rename': 'Failed to rename: {error}',
                'close': 'Close',
                
                # Properties dialog
                'properties_title': 'Properties - {name}',
                'path': 'Path:',
                'file_size': 'Size:',
                'folder_contents': 'Contents:',
                'items_with_size': '{count} items, {size}',
                'modified_time': 'Modified:',
                'permissions_label': 'Permissions:',
                'owner_label': 'Owner:',
                
                # Transfer options dialog
                'basic_options': 'Basic Options',
                'overwrite_existing': 'Overwrite existing files',
                'skip_existing': 'Skip existing files',
                'update_newer': 'Update only newer files',
                'delete_extra': 'Delete extra files in destination (mirror)',
                'dry_run': 'Dry run (preview changes only)',
                'advanced_options': 'Advanced Options',
                'preserve_timestamps': 'Preserve timestamps',
                'preserve_permissions': 'Preserve permissions',
                'compress_transfer': 'Compress during transfer',
                'verify_checksums': 'Verify checksums after transfer',
                'exclude_patterns': 'Exclude Patterns',
                'exclude_help': 'Enter patterns to exclude (one per line):',
                'exclude_examples': 'Examples: *.tmp, .git/, __pycache__/',
                'bandwidth_limit': 'Bandwidth Limit',
                'limit_bandwidth': 'Limit bandwidth',
                'kb_per_second': 'KB/s',
                'save_as_default': 'Save as default',
                
                # Additional File Browser keys
                'preview': 'Preview',
                'cut': 'Cut',
                'copy': 'Copy',
                'paste': 'Paste',
                'warning': 'Warning',
                'connect_first': 'Please connect to remote first',
                'not_implemented': 'Not Implemented',
                'delete_not_implemented': 'Delete functionality is not implemented for safety reasons.',
                'paste_not_implemented': 'Paste functionality is not implemented yet.',
                'rename_not_implemented': 'Rename functionality is not implemented yet.',
                'hide_preview': 'Hide Preview',
                'show_preview': 'Show Preview',
                'loading_preview': 'Loading preview...',
                'file_handling': 'File Handling',
                'skip_newer': 'Skip files that are newer on receiver',
                'delete_after': 'Delete source files after successful transfer',
                'performance': 'Performance',
                'compress': 'Compress data during transfer',
                'bw_help': '(0 = unlimited)',
                'exclude_info': 'Enter patterns to exclude (one per line):',
                'common_excludes': 'Common:',
                'test_mode': 'Test Mode',
                'save': 'Save',
                'options_saved': 'Transfer options saved',
                
                # Tooltips
                'navigate_up_tooltip': 'Navigate to parent folder',
                'navigate_home_tooltip': 'Go to home directory',
                'refresh_tooltip': 'Refresh file list',
                'upload_tooltip': 'Upload selected files to remote',
                'download_tooltip': 'Download selected files from remote',
                'options_tooltip': 'Configure transfer options',
                'transfer_actions': 'Transfer Actions',
                'select_files_to_transfer': 'Select files to transfer',
                'sync_progress': 'Sync Progress',
                'preparing_sync': 'Preparing sync...',
                'preview_mode': 'PREVIEW MODE - ',
                'sync_details': 'Sync Details',
                'progress': 'Progress',
                'sync_completed_successfully': 'Sync completed successfully!',
                'sync_failed': 'Sync failed!',
                'sync_error': 'Sync error',
            },
            
            'de': {
                # General
                'app_title': 'Rediacc CLI Werkzeuge',
                'ready': 'Bereit',
                'error': 'Fehler',
                'success': 'Erfolg',
                'confirm': 'Bestätigen',
                'cancel': 'Abbrechen',
                'yes': 'Ja',
                'no': 'Nein',
                'loading': 'Laden...',
                'logout': 'Abmelden',
                'language': 'Sprache',
                
                # Login window
                'login_title': 'Rediacc CLI - Anmeldung',
                'login_header': 'Rediacc CLI Anmeldung',
                'email': 'E-Mail:',
                'password': 'Passwort:',
                'master_password': 'Master-Passwort:',
                'login': 'Anmelden',
                'logging_in': 'Anmeldung läuft...',
                'login_successful': 'Anmeldung erfolgreich!',
                'login_failed': 'Anmeldung fehlgeschlagen',
                'please_enter_credentials': 'Bitte geben Sie E-Mail und Passwort ein',
                
                # 2FA translations
                'tfa_code': '2FA-Code',
                'tfa_help': 'Geben Sie den 6-stelligen Code aus Ihrer Authenticator-App ein',
                'tfa_required': 'Zwei-Faktor-Authentifizierung erforderlich. Bitte geben Sie Ihren 6-stelligen Code ein.',
                'enter_tfa_code': '2FA-Code eingeben: ',
                
                # Main window
                'user': 'Benutzer:',
                'logout_confirm': 'Möchten Sie sich wirklich abmelden?',
                'resource_selection': 'Ressourcenauswahl',
                'team': 'Team:',
                'machine': 'Maschine:',
                'repository': 'Repository:',
                
                # Tabs
                'plugin_manager': 'Plugin-Manager',
                'terminal_access': 'Terminal-Zugriff',
                'file_sync': 'Datei-Synchronisation',
                
                # Plugin Manager tab
                'plugin_management': 'Plugin-Verwaltung',
                'available_plugins': 'Verfügbare Plugins',
                'refresh_plugins': 'Plugins aktualisieren',
                'connect_to_plugin': 'Mit Plugin verbinden',
                'plugin': 'Plugin:',
                'local_port': 'Lokaler Port',
                'auto_port': 'Auto (7111-9111)',
                'manual_port': 'Manuell:',
                'connect': 'Verbinden',
                'active_connections': 'Aktive Verbindungen',
                'open_in_browser': 'Im Browser öffnen',
                'copy_url': 'URL kopieren',
                'disconnect': 'Trennen',
                'refresh_status': 'Status aktualisieren',
                'plugin_tip': 'Tipp: Doppelklick zum Öffnen der URL • Strg+C zum Kopieren der URL',
                'found_plugins': '{count} Plugins gefunden',
                'found_connections': '{count} aktive Verbindungen gefunden',
                'connecting_to': 'Verbinde mit {plugin}...',
                'disconnecting': 'Trenne {plugin}...',
                'disconnect_confirm': '{plugin} trennen?',
                'successfully_connected': 'Erfolgreich mit {plugin} verbunden',
                'access_at': 'Zugriff unter: {url}',
                'connection_failed': 'Verbindung fehlgeschlagen',
                'disconnected': '{plugin} getrennt',
                'disconnect_failed': 'Trennung fehlgeschlagen',
                'opened_in_browser': '{url} im Browser geöffnet',
                'copied_to_clipboard': '{url} in Zwischenablage kopiert',
                'port_error': 'Bitte geben Sie eine Portnummer ein',
                'port_range_error': 'Port muss zwischen 1024 und 65535 liegen',
                'invalid_port': 'Ungültige Portnummer',
                
                # Terminal tab
                'command': 'Befehl:',
                'execute_command': 'Befehl ausführen',
                'open_repo_terminal': 'Interaktives Repo-Terminal öffnen',
                'open_machine_terminal': 'Interaktives Maschinen-Terminal öffnen',
                'output': 'Ausgabe:',
                'command_executed': 'Befehl ausgeführt',
                'executing_command': 'Führe Befehl aus...',
                'terminal_instructions': 'Um {description} zu öffnen, führen Sie diesen Befehl in einem Terminal aus:',
                'or_from_any_directory': 'Oder aus einem beliebigen Verzeichnis:',
                'launched_terminal': 'Terminal-Fenster gestartet...',
                'launched_wt': 'In Windows Terminal gestartet...',
                'launched_wsl': 'In neuem WSL-Fenster gestartet...',
                'could_not_launch': 'Hinweis: Terminal konnte in WSL nicht automatisch gestartet werden.',
                'select_all_fields': 'Bitte wählen Sie Team, Maschine, Repository und geben Sie einen Befehl ein',
                'select_team_machine_repo': 'Bitte wählen Sie Team, Maschine und Repository',
                'select_team_machine': 'Bitte wählen Sie Team und Maschine',
                
                # File Sync tab
                'direction': 'Richtung:',
                'upload': 'Hochladen',
                'download': 'Herunterladen',
                'local_path': 'Lokaler Pfad:',
                'browse': 'Durchsuchen...',
                'options': 'Optionen',
                'mirror_delete': 'Spiegeln (zusätzliche Dateien löschen)',
                'verify_transfer': 'Nach Übertragung verifizieren',
                'preview_changes': 'Änderungen vorschauen (--confirm)',
                'start_sync': 'Synchronisation starten',
                'sync_completed': 'Synchronisation abgeschlossen',
                'starting_sync': 'Starte {direction}...',
                'fill_all_fields': 'Bitte füllen Sie alle Felder aus',
                
                # Status messages
                'loading_teams': 'Lade Teams...',
                'loading_machines': 'Lade Maschinen für {team}...',
                'loading_repositories': 'Lade Repositories für {team}...',
                'loading_plugins': 'Lade Plugins...',
                'refreshing_connections': 'Aktualisiere Verbindungen...',
                'authentication_expired': 'Authentifizierung abgelaufen. Bitte melden Sie sich erneut an.',
                'session_expired': 'Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an.',
                
                # Error messages
                'failed_to_load_teams': 'Fehler beim Laden der Teams',
                'failed_to_load_machines': 'Fehler beim Laden der Maschinen',
                'failed_to_load_repositories': 'Fehler beim Laden der Repositories',
                'select_connection': 'Bitte wählen Sie eine Verbindung zum {action}',
                'select_all_plugin_fields': 'Bitte wählen Sie alle Felder',
                
                # Window titles
                'an_interactive_repo_terminal': 'ein interaktives Repository-Terminal',
                'an_interactive_machine_terminal': 'ein interaktives Maschinen-Terminal',
                
                # File Browser tab
                'file_browser': 'Dateibrowser',
                'local_files': 'Lokale Dateien',
                'remote_files': 'Remote-Dateien',
                'file_preview': 'Dateivorschau',
                'show_preview': 'Vorschau anzeigen',
                'hide_preview': 'Vorschau ausblenden',
                
                # File types and navigation
                'file': 'Datei',
                'folder': 'Ordner',
                'name': 'Name',
                'size': 'Größe',
                'modified': 'Geändert',
                'type': 'Typ',
                'permissions': 'Berechtigungen',
                'owner': 'Besitzer',
                'parent_directory': 'Übergeordneter Ordner',
                'home': 'Start',
                'refresh': 'Aktualisieren',
                'new_folder': 'Neuer Ordner',
                'open': 'Öffnen',
                'delete': 'Löschen',
                'rename': 'Umbenennen',
                'properties': 'Eigenschaften',
                
                # Connection and status
                'connected': 'Verbunden',
                'not_connected': 'Nicht verbunden',
                'connecting': 'Verbinde...',
                'connection_failed': 'Verbindung fehlgeschlagen',
                'failed_connect_remote': 'Fehler beim Verbinden mit Remote: {error}',
                
                # Search and filter
                'search': 'Suchen:',
                'clear': 'Löschen',
                'filtered': 'gefiltert',
                
                # Transfer operations
                'upload_arrow': 'Hochladen →',
                'download_arrow': '← Herunterladen',
                'upload_selected': 'Ausgewählte hochladen',
                'download_selected': 'Ausgewählte herunterladen',
                'confirm_upload': 'Upload bestätigen',
                'confirm_download': 'Download bestätigen',
                'upload_confirm_message': 'Folgende Dateien nach {path} hochladen:\n\n{files}',
                'download_confirm_message': 'Folgende Dateien nach {path} herunterladen:\n\n{files}',
                'transfer_progress': 'Übertragungsfortschritt',
                'overall_progress': 'Gesamtfortschritt',
                'current_file': 'Aktuelle Datei',
                'preparing_transfer': 'Bereite Übertragung vor...',
                'dry_run_mode': 'TESTLAUF-MODUS - ',
                'completed': 'abgeschlossen',
                'transferred': 'Dateien übertragen',
                'transfer_complete': 'Übertragung abgeschlossen',
                'transfer_complete_message': 'Übertragung erfolgreich abgeschlossen!\n\nÜbertragen: {count} Dateien',
                'transfer_cancelled': 'Übertragung abgebrochen',
                'transfer_cancelled_message': 'Übertragung wurde abgebrochen.\n\nAbgeschlossen: {completed} von {total} Dateien',
                'transfer_failed': 'Übertragung fehlgeschlagen',
                'transfer_options': 'Übertragungsoptionen',
                
                # File operations and errors
                'failed_list_local': 'Fehler beim Auflisten des lokalen Verzeichnisses: {error}',
                'failed_list_remote': 'Fehler beim Auflisten des Remote-Verzeichnisses: {error}',
                'failed_refresh_remote': 'Fehler beim Aktualisieren von Remote: {error}',
                'invalid_directory': 'Ungültiger Verzeichnispfad',
                'invalid_path': 'Ungültiger Pfad: {error}',
                'loading_remote_files': 'Lade Remote-Dateien...',
                'local_items': 'Lokal: {count} Elemente',
                'remote_items': 'Remote: {count} Elemente',
                'select_files_to_transfer': 'Bitte wählen Sie Dateien zum Übertragen aus',
                'preview_size_limit': 'Datei zu groß für Vorschau (Limit: 1MB)',
                'preview_error': 'Fehler beim Laden der Vorschau: {error}',
                'enter_folder_name': 'Ordnernamen eingeben:',
                'folder_name': 'Ordnername',
                'folder_exists': 'Ordner existiert bereits',
                'failed_create_folder': 'Fehler beim Erstellen des Ordners: {error}',
                'confirm_delete': 'Löschen bestätigen',
                'delete_confirm_message': 'Möchten Sie folgende Elemente wirklich löschen:\n\n{files}',
                'failed_delete': 'Fehler beim Löschen: {error}',
                'rename_item': 'Element umbenennen',
                'enter_new_name': 'Neuen Namen eingeben:',
                'item_exists': 'Ein Element mit diesem Namen existiert bereits',
                'failed_rename': 'Fehler beim Umbenennen: {error}',
                'close': 'Schließen',
                
                # Properties dialog
                'properties_title': 'Eigenschaften - {name}',
                'path': 'Pfad:',
                'file_size': 'Größe:',
                'folder_contents': 'Inhalt:',
                'items_with_size': '{count} Elemente, {size}',
                'modified_time': 'Geändert:',
                'permissions_label': 'Berechtigungen:',
                'owner_label': 'Besitzer:',
                
                # Transfer options dialog
                'basic_options': 'Grundlegende Optionen',
                'overwrite_existing': 'Vorhandene Dateien überschreiben',
                'skip_existing': 'Vorhandene Dateien überspringen',
                'update_newer': 'Nur neuere Dateien aktualisieren',
                'delete_extra': 'Zusätzliche Dateien im Ziel löschen (Spiegeln)',
                'dry_run': 'Testlauf (nur Änderungen anzeigen)',
                'advanced_options': 'Erweiterte Optionen',
                'preserve_timestamps': 'Zeitstempel beibehalten',
                'preserve_permissions': 'Berechtigungen beibehalten',
                'compress_transfer': 'Während der Übertragung komprimieren',
                'verify_checksums': 'Prüfsummen nach Übertragung verifizieren',
                'exclude_patterns': 'Ausschlussmuster',
                'exclude_help': 'Geben Sie Muster zum Ausschließen ein (eines pro Zeile):',
                'exclude_examples': 'Beispiele: *.tmp, .git/, __pycache__/',
                'bandwidth_limit': 'Bandbreitenbegrenzung',
                'limit_bandwidth': 'Bandbreite begrenzen',
                'kb_per_second': 'KB/s',
                'save_as_default': 'Als Standard speichern',
                
                # Additional File Browser keys
                'preview': 'Vorschau',
                'cut': 'Ausschneiden',
                'copy': 'Kopieren',
                'paste': 'Einfügen',
                'warning': 'Warnung',
                'connect_first': 'Bitte zuerst mit Remote verbinden',
                'not_implemented': 'Nicht implementiert',
                'delete_not_implemented': 'Löschfunktion ist aus Sicherheitsgründen nicht implementiert.',
                'paste_not_implemented': 'Einfügefunktion ist noch nicht implementiert.',
                'rename_not_implemented': 'Umbenennungsfunktion ist noch nicht implementiert.',
                'hide_preview': 'Vorschau ausblenden',
                'show_preview': 'Vorschau anzeigen',
                'loading_preview': 'Lade Vorschau...',
                'file_handling': 'Dateibehandlung',
                'skip_newer': 'Neuere Dateien auf Empfänger überspringen',
                'delete_after': 'Quelldateien nach erfolgreicher Übertragung löschen',
                'performance': 'Leistung',
                'compress': 'Daten während der Übertragung komprimieren',
                'bw_help': '(0 = unbegrenzt)',
                'exclude_info': 'Auszuschließende Muster eingeben (eines pro Zeile):',
                'common_excludes': 'Häufig:',
                'test_mode': 'Testmodus',
                'save': 'Speichern',
                'options_saved': 'Übertragungsoptionen gespeichert',
                
                # Tooltips
                'navigate_up_tooltip': 'Zum übergeordneten Ordner navigieren',
                'navigate_home_tooltip': 'Zum Home-Verzeichnis gehen',
                'refresh_tooltip': 'Dateiliste aktualisieren',
                'upload_tooltip': 'Ausgewählte Dateien auf Remote hochladen',
                'download_tooltip': 'Ausgewählte Dateien von Remote herunterladen',
                'options_tooltip': 'Übertragungsoptionen konfigurieren',
                'transfer_actions': 'Übertragungsaktionen',
                'select_files_to_transfer': 'Dateien zum Übertragen auswählen',
                'sync_progress': 'Synchronisierungsfortschritt',
                'preparing_sync': 'Synchronisierung vorbereiten...',
                'preview_mode': 'VORSCHAUMODUS - ',
                'sync_details': 'Synchronisierungsdetails',
                'progress': 'Fortschritt',
                'sync_completed_successfully': 'Synchronisierung erfolgreich abgeschlossen!',
                'sync_failed': 'Synchronisierung fehlgeschlagen!',
                'sync_error': 'Synchronisierungsfehler',
            },
            
            'es': {
                # General
                'app_title': 'Herramientas CLI de Rediacc',
                'ready': 'Listo',
                'error': 'Error',
                'success': 'Éxito',
                'confirm': 'Confirmar',
                'cancel': 'Cancelar',
                'yes': 'Sí',
                'no': 'No',
                'loading': 'Cargando...',
                'logout': 'Cerrar sesión',
                'language': 'Idioma',
                
                # Login window
                'login_title': 'Rediacc CLI - Iniciar sesión',
                'login_header': 'Inicio de sesión de Rediacc CLI',
                'email': 'Correo electrónico:',
                'password': 'Contraseña:',
                'master_password': 'Contraseña Maestra:',
                'login': 'Iniciar sesión',
                'logging_in': 'Iniciando sesión...',
                'login_successful': '¡Inicio de sesión exitoso!',
                'login_failed': 'Error al iniciar sesión',
                'please_enter_credentials': 'Por favor ingrese correo electrónico y contraseña',
                
                # 2FA translations
                'tfa_code': 'Código 2FA',
                'tfa_help': 'Ingrese el código de 6 dígitos de su aplicación de autenticación',
                'tfa_required': 'Se requiere autenticación de dos factores. Por favor ingrese su código de 6 dígitos.',
                'enter_tfa_code': 'Ingrese el código 2FA: ',
                
                # Main window
                'user': 'Usuario:',
                'logout_confirm': '¿Está seguro de que desea cerrar sesión?',
                'resource_selection': 'Selección de recursos',
                'team': 'Equipo:',
                'machine': 'Máquina:',
                'repository': 'Repositorio:',
                
                # Tabs
                'plugin_manager': 'Gestor de plugins',
                'terminal_access': 'Acceso a terminal',
                'file_sync': 'Sincronización de archivos',
                
                # Plugin Manager tab
                'plugin_management': 'Gestión de plugins',
                'available_plugins': 'Plugins disponibles',
                'refresh_plugins': 'Actualizar plugins',
                'connect_to_plugin': 'Conectar al plugin',
                'plugin': 'Plugin:',
                'local_port': 'Puerto local',
                'auto_port': 'Auto (7111-9111)',
                'manual_port': 'Manual:',
                'connect': 'Conectar',
                'active_connections': 'Conexiones activas',
                'open_in_browser': 'Abrir en navegador',
                'copy_url': 'Copiar URL',
                'disconnect': 'Desconectar',
                'refresh_status': 'Actualizar estado',
                'plugin_tip': 'Consejo: Doble clic para abrir URL • Ctrl+C para copiar URL',
                'found_plugins': 'Se encontraron {count} plugins',
                'found_connections': 'Se encontraron {count} conexiones activas',
                'connecting_to': 'Conectando a {plugin}...',
                'disconnecting': 'Desconectando {plugin}...',
                'disconnect_confirm': '¿Desconectar {plugin}?',
                'successfully_connected': 'Conectado exitosamente a {plugin}',
                'access_at': 'Acceder en: {url}',
                'connection_failed': 'Conexión fallida',
                'disconnected': '{plugin} desconectado',
                'disconnect_failed': 'Error al desconectar',
                'opened_in_browser': '{url} abierto en navegador',
                'copied_to_clipboard': '{url} copiado al portapapeles',
                'port_error': 'Por favor ingrese un número de puerto',
                'port_range_error': 'El puerto debe estar entre 1024 y 65535',
                'invalid_port': 'Número de puerto inválido',
                
                # Terminal tab
                'command': 'Comando:',
                'execute_command': 'Ejecutar comando',
                'open_repo_terminal': 'Abrir terminal interactivo del repositorio',
                'open_machine_terminal': 'Abrir terminal interactivo de la máquina',
                'output': 'Salida:',
                'command_executed': 'Comando ejecutado',
                'executing_command': 'Ejecutando comando...',
                'terminal_instructions': 'Para abrir {description}, ejecute este comando en una ventana de terminal:',
                'or_from_any_directory': 'O desde cualquier directorio:',
                'launched_terminal': 'Ventana de terminal iniciada...',
                'launched_wt': 'Iniciado en Windows Terminal...',
                'launched_wsl': 'Iniciado en nueva ventana WSL...',
                'could_not_launch': 'Nota: No se pudo iniciar el terminal automáticamente en WSL.',
                'select_all_fields': 'Por favor seleccione equipo, máquina, repositorio e ingrese un comando',
                'select_team_machine_repo': 'Por favor seleccione equipo, máquina y repositorio',
                'select_team_machine': 'Por favor seleccione equipo y máquina',
                
                # File Sync tab
                'direction': 'Dirección:',
                'upload': 'Subir',
                'download': 'Descargar',
                'local_path': 'Ruta local:',
                'browse': 'Examinar...',
                'options': 'Opciones',
                'mirror_delete': 'Espejo (eliminar archivos adicionales)',
                'verify_transfer': 'Verificar después de la transferencia',
                'preview_changes': 'Vista previa de cambios (--confirm)',
                'start_sync': 'Iniciar sincronización',
                'sync_completed': 'Sincronización completada',
                'starting_sync': 'Iniciando {direction}...',
                'fill_all_fields': 'Por favor complete todos los campos',
                
                # Status messages
                'loading_teams': 'Cargando equipos...',
                'loading_machines': 'Cargando máquinas para {team}...',
                'loading_repositories': 'Cargando repositorios para {team}...',
                'loading_plugins': 'Cargando plugins...',
                'refreshing_connections': 'Actualizando conexiones...',
                'authentication_expired': 'Autenticación expirada. Por favor inicie sesión nuevamente.',
                'session_expired': 'Su sesión ha expirado. Por favor inicie sesión nuevamente.',
                
                # Error messages
                'failed_to_load_teams': 'Error al cargar equipos',
                'failed_to_load_machines': 'Error al cargar máquinas',
                'failed_to_load_repositories': 'Error al cargar repositorios',
                'select_connection': 'Por favor seleccione una conexión para {action}',
                'select_all_plugin_fields': 'Por favor seleccione todos los campos',
                
                # Window titles
                'an_interactive_repo_terminal': 'un terminal interactivo del repositorio',
                'an_interactive_machine_terminal': 'un terminal interactivo de la máquina',
                
                # File Browser tab
                'file_browser': 'Explorador de archivos',
                'local_files': 'Archivos locales',
                'remote_files': 'Archivos remotos',
                'file_preview': 'Vista previa de archivo',
                'show_preview': 'Mostrar vista previa',
                'hide_preview': 'Ocultar vista previa',
                
                # File types and navigation
                'file': 'Archivo',
                'folder': 'Carpeta',
                'name': 'Nombre',
                'size': 'Tamaño',
                'modified': 'Modificado',
                'type': 'Tipo',
                'permissions': 'Permisos',
                'owner': 'Propietario',
                'parent_directory': 'Directorio principal',
                'home': 'Inicio',
                'refresh': 'Actualizar',
                'new_folder': 'Nueva carpeta',
                'open': 'Abrir',
                'delete': 'Eliminar',
                'rename': 'Renombrar',
                'properties': 'Propiedades',
                
                # Connection and status
                'connected': 'Conectado',
                'not_connected': 'No conectado',
                'connecting': 'Conectando...',
                'connection_failed': 'Conexión fallida',
                'failed_connect_remote': 'Error al conectar con remoto: {error}',
                
                # Search and filter
                'search': 'Buscar:',
                'clear': 'Limpiar',
                'filtered': 'filtrado',
                
                # Transfer operations
                'upload_arrow': 'Subir →',
                'download_arrow': '← Descargar',
                'upload_selected': 'Subir seleccionados',
                'download_selected': 'Descargar seleccionados',
                'confirm_upload': 'Confirmar subida',
                'confirm_download': 'Confirmar descarga',
                'upload_confirm_message': 'Subir lo siguiente a {path}:\n\n{files}',
                'download_confirm_message': 'Descargar lo siguiente a {path}:\n\n{files}',
                'transfer_progress': 'Progreso de transferencia',
                'overall_progress': 'Progreso total',
                'current_file': 'Archivo actual',
                'preparing_transfer': 'Preparando transferencia...',
                'dry_run_mode': 'MODO SIMULACIÓN - ',
                'completed': 'completado',
                'transferred': 'Archivos transferidos',
                'transfer_complete': 'Transferencia completada',
                'transfer_complete_message': '¡Transferencia completada con éxito!\n\nTransferidos: {count} archivos',
                'transfer_cancelled': 'Transferencia cancelada',
                'transfer_cancelled_message': 'La transferencia fue cancelada.\n\nCompletados: {completed} de {total} archivos',
                'transfer_failed': 'Transferencia fallida',
                'transfer_options': 'Opciones de transferencia',
                
                # File operations and errors
                'failed_list_local': 'Error al listar directorio local: {error}',
                'failed_list_remote': 'Error al listar directorio remoto: {error}',
                'failed_refresh_remote': 'Error al actualizar remoto: {error}',
                'invalid_directory': 'Ruta de directorio inválida',
                'invalid_path': 'Ruta inválida: {error}',
                'loading_remote_files': 'Cargando archivos remotos...',
                'local_items': 'Local: {count} elementos',
                'remote_items': 'Remoto: {count} elementos',
                'select_files_to_transfer': 'Por favor seleccione archivos para transferir',
                'preview_size_limit': 'Archivo muy grande para vista previa (límite: 1MB)',
                'preview_error': 'Error al cargar vista previa: {error}',
                'enter_folder_name': 'Ingrese nombre de carpeta:',
                'folder_name': 'Nombre de carpeta',
                'folder_exists': 'La carpeta ya existe',
                'failed_create_folder': 'Error al crear carpeta: {error}',
                'confirm_delete': 'Confirmar eliminación',
                'delete_confirm_message': '¿Está seguro de eliminar:\n\n{files}',
                'failed_delete': 'Error al eliminar: {error}',
                'rename_item': 'Renombrar elemento',
                'enter_new_name': 'Ingrese nuevo nombre:',
                'item_exists': 'Ya existe un elemento con ese nombre',
                'failed_rename': 'Error al renombrar: {error}',
                'close': 'Cerrar',
                
                # Properties dialog
                'properties_title': 'Propiedades - {name}',
                'path': 'Ruta:',
                'file_size': 'Tamaño:',
                'folder_contents': 'Contenido:',
                'items_with_size': '{count} elementos, {size}',
                'modified_time': 'Modificado:',
                'permissions_label': 'Permisos:',
                'owner_label': 'Propietario:',
                
                # Transfer options dialog
                'basic_options': 'Opciones básicas',
                'overwrite_existing': 'Sobrescribir archivos existentes',
                'skip_existing': 'Omitir archivos existentes',
                'update_newer': 'Actualizar solo archivos más nuevos',
                'delete_extra': 'Eliminar archivos adicionales en destino (espejo)',
                'dry_run': 'Simulación (solo mostrar cambios)',
                'advanced_options': 'Opciones avanzadas',
                'preserve_timestamps': 'Preservar marcas de tiempo',
                'preserve_permissions': 'Preservar permisos',
                'compress_transfer': 'Comprimir durante transferencia',
                'verify_checksums': 'Verificar sumas de verificación después de transferir',
                'exclude_patterns': 'Patrones de exclusión',
                'exclude_help': 'Ingrese patrones a excluir (uno por línea):',
                'exclude_examples': 'Ejemplos: *.tmp, .git/, __pycache__/',
                'bandwidth_limit': 'Límite de ancho de banda',
                'limit_bandwidth': 'Limitar ancho de banda',
                'kb_per_second': 'KB/s',
                'save_as_default': 'Guardar como predeterminado',
                
                # Additional File Browser keys
                'preview': 'Vista previa',
                'cut': 'Cortar',
                'copy': 'Copiar',
                'paste': 'Pegar',
                'warning': 'Advertencia',
                'connect_first': 'Por favor conéctese primero al remoto',
                'not_implemented': 'No implementado',
                'delete_not_implemented': 'La funcionalidad de eliminación no está implementada por razones de seguridad.',
                'paste_not_implemented': 'La funcionalidad de pegar aún no está implementada.',
                'rename_not_implemented': 'La funcionalidad de renombrar aún no está implementada.',
                'hide_preview': 'Ocultar vista previa',
                'show_preview': 'Mostrar vista previa',
                'loading_preview': 'Cargando vista previa...',
                'file_handling': 'Manejo de archivos',
                'skip_newer': 'Omitir archivos más nuevos en el receptor',
                'delete_after': 'Eliminar archivos fuente después de transferencia exitosa',
                'performance': 'Rendimiento',
                'compress': 'Comprimir datos durante la transferencia',
                'bw_help': '(0 = ilimitado)',
                'exclude_info': 'Ingrese patrones para excluir (uno por línea):',
                'common_excludes': 'Comunes:',
                'test_mode': 'Modo de prueba',
                'save': 'Guardar',
                'options_saved': 'Opciones de transferencia guardadas',
                
                # Tooltips
                'navigate_up_tooltip': 'Navegar a la carpeta principal',
                'navigate_home_tooltip': 'Ir al directorio de inicio',
                'refresh_tooltip': 'Actualizar lista de archivos',
                'upload_tooltip': 'Subir archivos seleccionados al remoto',
                'download_tooltip': 'Descargar archivos seleccionados del remoto',
                'options_tooltip': 'Configurar opciones de transferencia',
                'transfer_actions': 'Acciones de transferencia',
                'select_files_to_transfer': 'Seleccionar archivos para transferir',
                'sync_progress': 'Progreso de sincronización',
                'preparing_sync': 'Preparando sincronización...',
                'preview_mode': 'MODO VISTA PREVIA - ',
                'sync_details': 'Detalles de sincronización',
                'progress': 'Progreso',
                'sync_completed_successfully': '¡Sincronización completada exitosamente!',
                'sync_failed': '¡Sincronización fallida!',
                'sync_error': 'Error de sincronización',
            },
            
            'fr': {
                # General
                'app_title': 'Outils CLI Rediacc',
                'ready': 'Prêt',
                'error': 'Erreur',
                'success': 'Succès',
                'confirm': 'Confirmer',
                'cancel': 'Annuler',
                'yes': 'Oui',
                'no': 'Non',
                'loading': 'Chargement...',
                'logout': 'Déconnexion',
                'language': 'Langue',
                
                # Login window
                'login_title': 'Rediacc CLI - Connexion',
                'login_header': 'Connexion Rediacc CLI',
                'email': 'E-mail :',
                'password': 'Mot de passe :',
                'master_password': 'Mot de passe maître :',
                'login': 'Se connecter',
                'logging_in': 'Connexion en cours...',
                'login_successful': 'Connexion réussie !',
                'login_failed': 'Échec de la connexion',
                'please_enter_credentials': 'Veuillez entrer l\'e-mail et le mot de passe',
                
                # 2FA translations
                'tfa_code': 'Code 2FA',
                'tfa_help': 'Entrez le code à 6 chiffres de votre application d\'authentification',
                'tfa_required': 'Authentification à deux facteurs requise. Veuillez entrer votre code à 6 chiffres.',
                'enter_tfa_code': 'Entrez le code 2FA : ',
                
                # Main window
                'user': 'Utilisateur :',
                'logout_confirm': 'Êtes-vous sûr de vouloir vous déconnecter ?',
                'resource_selection': 'Sélection des ressources',
                'team': 'Équipe :',
                'machine': 'Machine :',
                'repository': 'Dépôt :',
                
                # Tabs
                'plugin_manager': 'Gestionnaire de plugins',
                'terminal_access': 'Accès terminal',
                'file_sync': 'Synchronisation de fichiers',
                
                # Plugin Manager tab
                'plugin_management': 'Gestion des plugins',
                'available_plugins': 'Plugins disponibles',
                'refresh_plugins': 'Actualiser les plugins',
                'connect_to_plugin': 'Se connecter au plugin',
                'plugin': 'Plugin :',
                'local_port': 'Port local',
                'auto_port': 'Auto (7111-9111)',
                'manual_port': 'Manuel :',
                'connect': 'Connecter',
                'active_connections': 'Connexions actives',
                'open_in_browser': 'Ouvrir dans le navigateur',
                'copy_url': 'Copier l\'URL',
                'disconnect': 'Déconnecter',
                'refresh_status': 'Actualiser le statut',
                'plugin_tip': 'Astuce : Double-clic pour ouvrir l\'URL • Ctrl+C pour copier l\'URL',
                'found_plugins': '{count} plugins trouvés',
                'found_connections': '{count} connexions actives trouvées',
                'connecting_to': 'Connexion à {plugin}...',
                'disconnecting': 'Déconnexion de {plugin}...',
                'disconnect_confirm': 'Déconnecter {plugin} ?',
                'successfully_connected': 'Connecté avec succès à {plugin}',
                'access_at': 'Accéder à : {url}',
                'connection_failed': 'Échec de la connexion',
                'disconnected': '{plugin} déconnecté',
                'disconnect_failed': 'Échec de la déconnexion',
                'opened_in_browser': '{url} ouvert dans le navigateur',
                'copied_to_clipboard': '{url} copié dans le presse-papiers',
                'port_error': 'Veuillez entrer un numéro de port',
                'port_range_error': 'Le port doit être entre 1024 et 65535',
                'invalid_port': 'Numéro de port invalide',
                
                # Terminal tab
                'command': 'Commande :',
                'execute_command': 'Exécuter la commande',
                'open_repo_terminal': 'Ouvrir un terminal interactif du dépôt',
                'open_machine_terminal': 'Ouvrir un terminal interactif de la machine',
                'output': 'Sortie :',
                'command_executed': 'Commande exécutée',
                'executing_command': 'Exécution de la commande...',
                'terminal_instructions': 'Pour ouvrir {description}, exécutez cette commande dans une fenêtre de terminal :',
                'or_from_any_directory': 'Ou depuis n\'importe quel répertoire :',
                'launched_terminal': 'Fenêtre de terminal lancée...',
                'launched_wt': 'Lancé dans Windows Terminal...',
                'launched_wsl': 'Lancé dans une nouvelle fenêtre WSL...',
                'could_not_launch': 'Note : Impossible de lancer le terminal automatiquement dans WSL.',
                'select_all_fields': 'Veuillez sélectionner l\'équipe, la machine, le dépôt et entrer une commande',
                'select_team_machine_repo': 'Veuillez sélectionner l\'équipe, la machine et le dépôt',
                'select_team_machine': 'Veuillez sélectionner l\'équipe et la machine',
                
                # File Sync tab
                'direction': 'Direction :',
                'upload': 'Téléverser',
                'download': 'Télécharger',
                'local_path': 'Chemin local :',
                'browse': 'Parcourir...',
                'options': 'Options',
                'mirror_delete': 'Miroir (supprimer les fichiers supplémentaires)',
                'verify_transfer': 'Vérifier après le transfert',
                'preview_changes': 'Aperçu des modifications (--confirm)',
                'start_sync': 'Démarrer la synchronisation',
                'sync_completed': 'Synchronisation terminée',
                'starting_sync': 'Démarrage {direction}...',
                'fill_all_fields': 'Veuillez remplir tous les champs',
                
                # Status messages
                'loading_teams': 'Chargement des équipes...',
                'loading_machines': 'Chargement des machines pour {team}...',
                'loading_repositories': 'Chargement des dépôts pour {team}...',
                'loading_plugins': 'Chargement des plugins...',
                'refreshing_connections': 'Actualisation des connexions...',
                'authentication_expired': 'Authentification expirée. Veuillez vous reconnecter.',
                'session_expired': 'Votre session a expiré. Veuillez vous reconnecter.',
                
                # Error messages
                'failed_to_load_teams': 'Échec du chargement des équipes',
                'failed_to_load_machines': 'Échec du chargement des machines',
                'failed_to_load_repositories': 'Échec du chargement des dépôts',
                'select_connection': 'Veuillez sélectionner une connexion pour {action}',
                'select_all_plugin_fields': 'Veuillez sélectionner tous les champs',
                
                # Window titles
                'an_interactive_repo_terminal': 'un terminal interactif du dépôt',
                'an_interactive_machine_terminal': 'un terminal interactif de la machine',
                
                # File Browser tab
                'file_browser': 'Explorateur de fichiers',
                'local_files': 'Fichiers locaux',
                'remote_files': 'Fichiers distants',
                'file_preview': 'Aperçu du fichier',
                'show_preview': 'Afficher l\'aperçu',
                'hide_preview': 'Masquer l\'aperçu',
                
                # File types and navigation
                'file': 'Fichier',
                'folder': 'Dossier',
                'name': 'Nom',
                'size': 'Taille',
                'modified': 'Modifié',
                'type': 'Type',
                'permissions': 'Permissions',
                'owner': 'Propriétaire',
                'parent_directory': 'Dossier parent',
                'home': 'Accueil',
                'refresh': 'Actualiser',
                'new_folder': 'Nouveau dossier',
                'open': 'Ouvrir',
                'delete': 'Supprimer',
                'rename': 'Renommer',
                'properties': 'Propriétés',
                
                # Connection and status
                'connected': 'Connecté',
                'not_connected': 'Non connecté',
                'connecting': 'Connexion...',
                'connection_failed': 'Échec de connexion',
                'failed_connect_remote': 'Échec de connexion au distant : {error}',
                
                # Search and filter
                'search': 'Rechercher :',
                'clear': 'Effacer',
                'filtered': 'filtré',
                
                # Transfer operations
                'upload_arrow': 'Téléverser →',
                'download_arrow': '← Télécharger',
                'upload_selected': 'Téléverser la sélection',
                'download_selected': 'Télécharger la sélection',
                'confirm_upload': 'Confirmer le téléversement',
                'confirm_download': 'Confirmer le téléchargement',
                'upload_confirm_message': 'Téléverser les éléments suivants vers {path} :\n\n{files}',
                'download_confirm_message': 'Télécharger les éléments suivants vers {path} :\n\n{files}',
                'transfer_progress': 'Progression du transfert',
                'overall_progress': 'Progression globale',
                'current_file': 'Fichier actuel',
                'preparing_transfer': 'Préparation du transfert...',
                'dry_run_mode': 'MODE SIMULATION - ',
                'completed': 'terminé',
                'transferred': 'Fichiers transférés',
                'transfer_complete': 'Transfert terminé',
                'transfer_complete_message': 'Transfert terminé avec succès !\n\nTransférés : {count} fichiers',
                'transfer_cancelled': 'Transfert annulé',
                'transfer_cancelled_message': 'Le transfert a été annulé.\n\nTerminés : {completed} sur {total} fichiers',
                'transfer_failed': 'Échec du transfert',
                'transfer_options': 'Options de transfert',
                
                # File operations and errors
                'failed_list_local': 'Échec de la liste du répertoire local : {error}',
                'failed_list_remote': 'Échec de la liste du répertoire distant : {error}',
                'failed_refresh_remote': 'Échec de l\'actualisation du distant : {error}',
                'invalid_directory': 'Chemin de répertoire invalide',
                'invalid_path': 'Chemin invalide : {error}',
                'loading_remote_files': 'Chargement des fichiers distants...',
                'local_items': 'Local : {count} éléments',
                'remote_items': 'Distant : {count} éléments',
                'select_files_to_transfer': 'Veuillez sélectionner des fichiers à transférer',
                'preview_size_limit': 'Fichier trop volumineux pour l\'aperçu (limite : 1Mo)',
                'preview_error': 'Erreur de chargement de l\'aperçu : {error}',
                'enter_folder_name': 'Entrez le nom du dossier :',
                'folder_name': 'Nom du dossier',
                'folder_exists': 'Le dossier existe déjà',
                'failed_create_folder': 'Échec de création du dossier : {error}',
                'confirm_delete': 'Confirmer la suppression',
                'delete_confirm_message': 'Êtes-vous sûr de vouloir supprimer :\n\n{files}',
                'failed_delete': 'Échec de la suppression : {error}',
                'rename_item': 'Renommer l\'élément',
                'enter_new_name': 'Entrez le nouveau nom :',
                'item_exists': 'Un élément avec ce nom existe déjà',
                'failed_rename': 'Échec du renommage : {error}',
                'close': 'Fermer',
                
                # Properties dialog
                'properties_title': 'Propriétés - {name}',
                'path': 'Chemin :',
                'file_size': 'Taille :',
                'folder_contents': 'Contenu :',
                'items_with_size': '{count} éléments, {size}',
                'modified_time': 'Modifié :',
                'permissions_label': 'Permissions :',
                'owner_label': 'Propriétaire :',
                
                # Transfer options dialog
                'basic_options': 'Options de base',
                'overwrite_existing': 'Écraser les fichiers existants',
                'skip_existing': 'Ignorer les fichiers existants',
                'update_newer': 'Mettre à jour uniquement les fichiers plus récents',
                'delete_extra': 'Supprimer les fichiers supplémentaires à destination (miroir)',
                'dry_run': 'Simulation (afficher uniquement les changements)',
                'advanced_options': 'Options avancées',
                'preserve_timestamps': 'Conserver les horodatages',
                'preserve_permissions': 'Conserver les permissions',
                'compress_transfer': 'Compresser pendant le transfert',
                'verify_checksums': 'Vérifier les sommes de contrôle après le transfert',
                'exclude_patterns': 'Modèles d\'exclusion',
                'exclude_help': 'Entrez les modèles à exclure (un par ligne) :',
                'exclude_examples': 'Exemples : *.tmp, .git/, __pycache__/',
                'bandwidth_limit': 'Limite de bande passante',
                'limit_bandwidth': 'Limiter la bande passante',
                'kb_per_second': 'Ko/s',
                'save_as_default': 'Enregistrer comme défaut',
                
                # Additional File Browser keys
                'preview': 'Aperçu',
                'cut': 'Couper',
                'copy': 'Copier',
                'paste': 'Coller',
                'warning': 'Avertissement',
                'connect_first': 'Veuillez d\'abord vous connecter au distant',
                'not_implemented': 'Non implémenté',
                'delete_not_implemented': 'La fonctionnalité de suppression n\'est pas implémentée pour des raisons de sécurité.',
                'paste_not_implemented': 'La fonctionnalité de collage n\'est pas encore implémentée.',
                'rename_not_implemented': 'La fonctionnalité de renommage n\'est pas encore implémentée.',
                'hide_preview': 'Masquer l\'aperçu',
                'show_preview': 'Afficher l\'aperçu',
                'loading_preview': 'Chargement de l\'aperçu...',
                'file_handling': 'Gestion des fichiers',
                'skip_newer': 'Ignorer les fichiers plus récents sur le récepteur',
                'delete_after': 'Supprimer les fichiers source après un transfert réussi',
                'performance': 'Performance',
                'compress': 'Compresser les données pendant le transfert',
                'bw_help': '(0 = illimité)',
                'exclude_info': 'Entrez les modèles à exclure (un par ligne):',
                'common_excludes': 'Courants:',
                'test_mode': 'Mode test',
                'save': 'Enregistrer',
                'options_saved': 'Options de transfert enregistrées',
                
                # Tooltips
                'navigate_up_tooltip': 'Naviguer vers le dossier parent',
                'navigate_home_tooltip': 'Aller au répertoire personnel',
                'refresh_tooltip': 'Actualiser la liste des fichiers',
                'upload_tooltip': 'Téléverser les fichiers sélectionnés vers le distant',
                'download_tooltip': 'Télécharger les fichiers sélectionnés depuis le distant',
                'options_tooltip': 'Configurer les options de transfert',
                'transfer_actions': 'Actions de transfert',
                'select_files_to_transfer': 'Sélectionner les fichiers à transférer',
                'sync_progress': 'Progression de la synchronisation',
                'preparing_sync': 'Préparation de la synchronisation...',
                'preview_mode': 'MODE APERÇU - ',
                'sync_details': 'Détails de synchronisation',
                'progress': 'Progression',
                'sync_completed_successfully': 'Synchronisation terminée avec succès !',
                'sync_failed': 'Échec de la synchronisation !',
                'sync_error': 'Erreur de synchronisation',
            },
            
            'ja': {
                # General
                'app_title': 'Rediacc CLI ツール',
                'ready': '準備完了',
                'error': 'エラー',
                'success': '成功',
                'confirm': '確認',
                'cancel': 'キャンセル',
                'yes': 'はい',
                'no': 'いいえ',
                'loading': '読み込み中...',
                'logout': 'ログアウト',
                'language': '言語',
                
                # Login window
                'login_title': 'Rediacc CLI - ログイン',
                'login_header': 'Rediacc CLI ログイン',
                'email': 'メールアドレス：',
                'password': 'パスワード：',
                'master_password': 'マスターパスワード：',
                'login': 'ログイン',
                'logging_in': 'ログイン中...',
                'login_successful': 'ログイン成功！',
                'login_failed': 'ログイン失敗',
                'please_enter_credentials': 'メールアドレスとパスワードを入力してください',
                
                # 2FA translations
                'tfa_code': '2FAコード',
                'tfa_help': '認証アプリの6桁のコードを入力してください',
                'tfa_required': '二要素認証が必要です。6桁のコードを入力してください。',
                'enter_tfa_code': '2FAコードを入力: ',
                
                # Main window
                'user': 'ユーザー：',
                'logout_confirm': '本当にログアウトしますか？',
                'resource_selection': 'リソース選択',
                'team': 'チーム：',
                'machine': 'マシン：',
                'repository': 'リポジトリ：',
                
                # Tabs
                'plugin_manager': 'プラグインマネージャー',
                'terminal_access': 'ターミナルアクセス',
                'file_sync': 'ファイル同期',
                
                # Plugin Manager tab
                'plugin_management': 'プラグイン管理',
                'available_plugins': '利用可能なプラグイン',
                'refresh_plugins': 'プラグインを更新',
                'connect_to_plugin': 'プラグインに接続',
                'plugin': 'プラグイン：',
                'local_port': 'ローカルポート',
                'auto_port': '自動 (7111-9111)',
                'manual_port': '手動：',
                'connect': '接続',
                'active_connections': 'アクティブな接続',
                'open_in_browser': 'ブラウザで開く',
                'copy_url': 'URLをコピー',
                'disconnect': '切断',
                'refresh_status': 'ステータスを更新',
                'plugin_tip': 'ヒント：ダブルクリックでURLを開く • Ctrl+CでURLをコピー',
                'found_plugins': '{count}個のプラグインが見つかりました',
                'found_connections': '{count}個のアクティブな接続が見つかりました',
                'connecting_to': '{plugin}に接続中...',
                'disconnecting': '{plugin}を切断中...',
                'disconnect_confirm': '{plugin}を切断しますか？',
                'successfully_connected': '{plugin}への接続に成功しました',
                'access_at': 'アクセス先：{url}',
                'connection_failed': '接続失敗',
                'disconnected': '{plugin}が切断されました',
                'disconnect_failed': '切断失敗',
                'opened_in_browser': '{url}をブラウザで開きました',
                'copied_to_clipboard': '{url}をクリップボードにコピーしました',
                'port_error': 'ポート番号を入力してください',
                'port_range_error': 'ポートは1024から65535の間でなければなりません',
                'invalid_port': '無効なポート番号',
                
                # Terminal tab
                'command': 'コマンド：',
                'execute_command': 'コマンドを実行',
                'open_repo_terminal': 'インタラクティブリポジトリターミナルを開く',
                'open_machine_terminal': 'インタラクティブマシンターミナルを開く',
                'output': '出力：',
                'command_executed': 'コマンドが実行されました',
                'executing_command': 'コマンド実行中...',
                'terminal_instructions': '{description}を開くには、ターミナルウィンドウで次のコマンドを実行してください：',
                'or_from_any_directory': 'または任意のディレクトリから：',
                'launched_terminal': 'ターミナルウィンドウを起動しました...',
                'launched_wt': 'Windows Terminalで起動しました...',
                'launched_wsl': '新しいWSLウィンドウで起動しました...',
                'could_not_launch': '注：WSLでターミナルを自動的に起動できませんでした。',
                'select_all_fields': 'チーム、マシン、リポジトリを選択し、コマンドを入力してください',
                'select_team_machine_repo': 'チーム、マシン、リポジトリを選択してください',
                'select_team_machine': 'チームとマシンを選択してください',
                
                # File Sync tab
                'direction': '方向：',
                'upload': 'アップロード',
                'download': 'ダウンロード',
                'local_path': 'ローカルパス：',
                'browse': '参照...',
                'options': 'オプション',
                'mirror_delete': 'ミラー（追加ファイルを削除）',
                'verify_transfer': '転送後に検証',
                'preview_changes': '変更をプレビュー (--confirm)',
                'start_sync': '同期を開始',
                'sync_completed': '同期完了',
                'starting_sync': '{direction}を開始中...',
                'fill_all_fields': 'すべてのフィールドに入力してください',
                
                # Status messages
                'loading_teams': 'チームを読み込み中...',
                'loading_machines': '{team}のマシンを読み込み中...',
                'loading_repositories': '{team}のリポジトリを読み込み中...',
                'loading_plugins': 'プラグインを読み込み中...',
                'refreshing_connections': '接続を更新中...',
                'authentication_expired': '認証の有効期限が切れました。再度ログインしてください。',
                'session_expired': 'セッションの有効期限が切れました。再度ログインしてください。',
                
                # Error messages
                'failed_to_load_teams': 'チームの読み込みに失敗しました',
                'failed_to_load_machines': 'マシンの読み込みに失敗しました',
                'failed_to_load_repositories': 'リポジトリの読み込みに失敗しました',
                'select_connection': '{action}する接続を選択してください',
                'select_all_plugin_fields': 'すべてのフィールドを選択してください',
                
                # Window titles
                'an_interactive_repo_terminal': 'インタラクティブリポジトリターミナル',
                'an_interactive_machine_terminal': 'インタラクティブマシンターミナル',
                
                # File Browser tab
                'file_browser': 'ファイルブラウザ',
                'local_files': 'ローカルファイル',
                'remote_files': 'リモートファイル',
                'file_preview': 'ファイルプレビュー',
                'show_preview': 'プレビューを表示',
                'hide_preview': 'プレビューを非表示',
                
                # File types and navigation
                'file': 'ファイル',
                'folder': 'フォルダ',
                'name': '名前',
                'size': 'サイズ',
                'modified': '更新日時',
                'type': 'タイプ',
                'permissions': '権限',
                'owner': '所有者',
                'parent_directory': '親ディレクトリ',
                'home': 'ホーム',
                'refresh': '更新',
                'new_folder': '新規フォルダ',
                'open': '開く',
                'delete': '削除',
                'rename': '名前変更',
                'properties': 'プロパティ',
                
                # Connection and status
                'connected': '接続済み',
                'not_connected': '未接続',
                'connecting': '接続中...',
                'connection_failed': '接続失敗',
                'failed_connect_remote': 'リモート接続に失敗しました: {error}',
                
                # Search and filter
                'search': '検索:',
                'clear': 'クリア',
                'filtered': 'フィルター済み',
                
                # Transfer operations
                'upload_arrow': 'アップロード →',
                'download_arrow': '← ダウンロード',
                'upload_selected': '選択をアップロード',
                'download_selected': '選択をダウンロード',
                'confirm_upload': 'アップロードの確認',
                'confirm_download': 'ダウンロードの確認',
                'upload_confirm_message': '以下を {path} にアップロードします:\n\n{files}',
                'download_confirm_message': '以下を {path} にダウンロードします:\n\n{files}',
                'transfer_progress': '転送の進行状況',
                'overall_progress': '全体の進行状況',
                'current_file': '現在のファイル',
                'preparing_transfer': '転送を準備中...',
                'dry_run_mode': 'テスト実行モード - ',
                'completed': '完了',
                'transferred': 'ファイル転送済み',
                'transfer_complete': '転送完了',
                'transfer_complete_message': '転送が正常に完了しました！\n\n転送済み: {count} ファイル',
                'transfer_cancelled': '転送キャンセル',
                'transfer_cancelled_message': '転送がキャンセルされました。\n\n完了: {completed} / {total} ファイル',
                'transfer_failed': '転送失敗',
                'transfer_options': '転送オプション',
                
                # File operations and errors
                'failed_list_local': 'ローカルディレクトリの一覧取得に失敗: {error}',
                'failed_list_remote': 'リモートディレクトリの一覧取得に失敗: {error}',
                'failed_refresh_remote': 'リモートの更新に失敗: {error}',
                'invalid_directory': '無効なディレクトリパス',
                'invalid_path': '無効なパス: {error}',
                'loading_remote_files': 'リモートファイルを読み込み中...',
                'local_items': 'ローカル: {count} 個の項目',
                'remote_items': 'リモート: {count} 個の項目',
                'select_files_to_transfer': '転送するファイルを選択してください',
                'preview_size_limit': 'ファイルが大きすぎてプレビューできません（制限: 1MB）',
                'preview_error': 'プレビューの読み込みエラー: {error}',
                'enter_folder_name': 'フォルダ名を入力:',
                'folder_name': 'フォルダ名',
                'folder_exists': 'フォルダは既に存在します',
                'failed_create_folder': 'フォルダの作成に失敗: {error}',
                'confirm_delete': '削除の確認',
                'delete_confirm_message': '以下を削除してもよろしいですか:\n\n{files}',
                'failed_delete': '削除に失敗: {error}',
                'rename_item': '項目の名前変更',
                'enter_new_name': '新しい名前を入力:',
                'item_exists': 'その名前の項目は既に存在します',
                'failed_rename': '名前変更に失敗: {error}',
                'close': '閉じる',
                
                # Properties dialog
                'properties_title': 'プロパティ - {name}',
                'path': 'パス:',
                'file_size': 'サイズ:',
                'folder_contents': '内容:',
                'items_with_size': '{count} 個の項目、{size}',
                'modified_time': '更新日時:',
                'permissions_label': '権限:',
                'owner_label': '所有者:',
                
                # Transfer options dialog
                'basic_options': '基本オプション',
                'overwrite_existing': '既存ファイルを上書き',
                'skip_existing': '既存ファイルをスキップ',
                'update_newer': '新しいファイルのみ更新',
                'delete_extra': '転送先の余分なファイルを削除（ミラー）',
                'dry_run': 'テスト実行（変更を表示のみ）',
                'advanced_options': '詳細オプション',
                'preserve_timestamps': 'タイムスタンプを保持',
                'preserve_permissions': '権限を保持',
                'compress_transfer': '転送中に圧縮',
                'verify_checksums': '転送後にチェックサムを検証',
                'exclude_patterns': '除外パターン',
                'exclude_help': '除外するパターンを入力（1行に1つ）:',
                'exclude_examples': '例: *.tmp, .git/, __pycache__/',
                'bandwidth_limit': '帯域幅制限',
                'limit_bandwidth': '帯域幅を制限',
                'kb_per_second': 'KB/秒',
                'save_as_default': 'デフォルトとして保存',
                
                # Additional File Browser keys
                'preview': 'プレビュー',
                'cut': '切り取り',
                'copy': 'コピー',
                'paste': '貼り付け',
                'warning': '警告',
                'connect_first': 'まずリモートに接続してください',
                'not_implemented': '未実装',
                'delete_not_implemented': '削除機能は安全上の理由から実装されていません。',
                'paste_not_implemented': '貼り付け機能はまだ実装されていません。',
                'rename_not_implemented': '名前変更機能はまだ実装されていません。',
                'hide_preview': 'プレビューを非表示',
                'show_preview': 'プレビューを表示',
                'loading_preview': 'プレビューを読み込み中...',
                'file_handling': 'ファイル処理',
                'skip_newer': '受信側の新しいファイルをスキップ',
                'delete_after': '転送成功後にソースファイルを削除',
                'performance': 'パフォーマンス',
                'compress': '転送中にデータを圧縮',
                'bw_help': '(0 = 無制限)',
                'exclude_info': '除外するパターンを入力（1行に1つ）:',
                'common_excludes': '一般的:',
                'test_mode': 'テストモード',
                'save': '保存',
                'options_saved': '転送オプションが保存されました',
                
                # Tooltips
                'navigate_up_tooltip': '親フォルダに移動',
                'navigate_home_tooltip': 'ホームディレクトリに移動',
                'refresh_tooltip': 'ファイルリストを更新',
                'upload_tooltip': '選択したファイルをリモートにアップロード',
                'download_tooltip': 'リモートから選択したファイルをダウンロード',
                'options_tooltip': '転送オプションを設定',
                'transfer_actions': '転送アクション',
                'select_files_to_transfer': '転送するファイルを選択',
                'sync_progress': '同期進捗',
                'preparing_sync': '同期を準備中...',
                'preview_mode': 'プレビューモード - ',
                'sync_details': '同期詳細',
                'progress': '進捗',
                'sync_completed_successfully': '同期が正常に完了しました！',
                'sync_failed': '同期に失敗しました！',
                'sync_error': '同期エラー',
            },
            
            'ar': {
                # General
                'app_title': 'أدوات Rediacc CLI',
                'ready': 'جاهز',
                'error': 'خطأ',
                'success': 'نجاح',
                'confirm': 'تأكيد',
                'cancel': 'إلغاء',
                'yes': 'نعم',
                'no': 'لا',
                'loading': 'جار التحميل...',
                'logout': 'تسجيل الخروج',
                'language': 'اللغة',
                
                # Login window
                'login_title': 'Rediacc CLI - تسجيل الدخول',
                'login_header': 'تسجيل دخول Rediacc CLI',
                'email': 'البريد الإلكتروني:',
                'password': 'كلمة المرور:',
                'master_password': 'كلمة المرور الرئيسية:',
                'login': 'تسجيل الدخول',
                'logging_in': 'جار تسجيل الدخول...',
                'login_successful': 'تم تسجيل الدخول بنجاح!',
                'login_failed': 'فشل تسجيل الدخول',
                'please_enter_credentials': 'الرجاء إدخال البريد الإلكتروني وكلمة المرور',
                
                # 2FA translations
                'tfa_code': 'رمز 2FA',
                'tfa_help': 'أدخل الرمز المكون من 6 أرقام من تطبيق المصادقة الخاص بك',
                'tfa_required': 'مطلوب المصادقة الثنائية. يرجى إدخال الرمز المكون من 6 أرقام.',
                'enter_tfa_code': 'أدخل رمز 2FA: ',
                
                # Main window
                'user': 'المستخدم:',
                'logout_confirm': 'هل أنت متأكد من تسجيل الخروج؟',
                'resource_selection': 'اختيار الموارد',
                'team': 'الفريق:',
                'machine': 'الجهاز:',
                'repository': 'المستودع:',
                
                # Tabs
                'plugin_manager': 'مدير الإضافات',
                'terminal_access': 'الوصول إلى المحطة الطرفية',
                'file_sync': 'مزامنة الملفات',
                
                # Plugin Manager tab
                'plugin_management': 'إدارة الإضافات',
                'available_plugins': 'الإضافات المتاحة',
                'refresh_plugins': 'تحديث الإضافات',
                'connect_to_plugin': 'الاتصال بالإضافة',
                'plugin': 'الإضافة:',
                'local_port': 'المنفذ المحلي',
                'auto_port': 'تلقائي (7111-9111)',
                'manual_port': 'يدوي:',
                'connect': 'اتصال',
                'active_connections': 'الاتصالات النشطة',
                'open_in_browser': 'فتح في المتصفح',
                'copy_url': 'نسخ الرابط',
                'disconnect': 'قطع الاتصال',
                'refresh_status': 'تحديث الحالة',
                'plugin_tip': 'نصيحة: انقر مرتين لفتح الرابط • Ctrl+C لنسخ الرابط',
                'found_plugins': 'تم العثور على {count} إضافة',
                'found_connections': 'تم العثور على {count} اتصال نشط',
                'connecting_to': 'جار الاتصال بـ {plugin}...',
                'disconnecting': 'جار قطع الاتصال بـ {plugin}...',
                'disconnect_confirm': 'قطع الاتصال بـ {plugin}؟',
                'successfully_connected': 'تم الاتصال بنجاح بـ {plugin}',
                'access_at': 'الوصول عبر: {url}',
                'connection_failed': 'فشل الاتصال',
                'disconnected': 'تم قطع الاتصال بـ {plugin}',
                'disconnect_failed': 'فشل قطع الاتصال',
                'opened_in_browser': 'تم فتح {url} في المتصفح',
                'copied_to_clipboard': 'تم نسخ {url} إلى الحافظة',
                'port_error': 'الرجاء إدخال رقم المنفذ',
                'port_range_error': 'يجب أن يكون المنفذ بين 1024 و 65535',
                'invalid_port': 'رقم منفذ غير صالح',
                
                # Terminal tab
                'command': 'الأمر:',
                'execute_command': 'تنفيذ الأمر',
                'open_repo_terminal': 'فتح محطة طرفية تفاعلية للمستودع',
                'open_machine_terminal': 'فتح محطة طرفية تفاعلية للجهاز',
                'output': 'المخرجات:',
                'command_executed': 'تم تنفيذ الأمر',
                'executing_command': 'جار تنفيذ الأمر...',
                'terminal_instructions': 'لفتح {description}، قم بتشغيل هذا الأمر في نافذة المحطة الطرفية:',
                'or_from_any_directory': 'أو من أي دليل:',
                'launched_terminal': 'تم تشغيل نافذة المحطة الطرفية...',
                'launched_wt': 'تم التشغيل في Windows Terminal...',
                'launched_wsl': 'تم التشغيل في نافذة WSL جديدة...',
                'could_not_launch': 'ملاحظة: لا يمكن تشغيل المحطة الطرفية تلقائيًا في WSL.',
                'select_all_fields': 'الرجاء اختيار الفريق والجهاز والمستودع وإدخال أمر',
                'select_team_machine_repo': 'الرجاء اختيار الفريق والجهاز والمستودع',
                'select_team_machine': 'الرجاء اختيار الفريق والجهاز',
                
                # File Sync tab
                'direction': 'الاتجاه:',
                'upload': 'رفع',
                'download': 'تحميل',
                'local_path': 'المسار المحلي:',
                'browse': 'استعراض...',
                'options': 'خيارات',
                'mirror_delete': 'مرآة (حذف الملفات الإضافية)',
                'verify_transfer': 'التحقق بعد النقل',
                'preview_changes': 'معاينة التغييرات (--confirm)',
                'start_sync': 'بدء المزامنة',
                'sync_completed': 'اكتملت المزامنة',
                'starting_sync': 'بدء {direction}...',
                'fill_all_fields': 'الرجاء ملء جميع الحقول',
                
                # Status messages
                'loading_teams': 'جار تحميل الفرق...',
                'loading_machines': 'جار تحميل الأجهزة لـ {team}...',
                'loading_repositories': 'جار تحميل المستودعات لـ {team}...',
                'loading_plugins': 'جار تحميل الإضافات...',
                'refreshing_connections': 'جار تحديث الاتصالات...',
                'authentication_expired': 'انتهت صلاحية المصادقة. الرجاء تسجيل الدخول مرة أخرى.',
                'session_expired': 'انتهت صلاحية جلستك. الرجاء تسجيل الدخول مرة أخرى.',
                
                # Error messages
                'failed_to_load_teams': 'فشل تحميل الفرق',
                'failed_to_load_machines': 'فشل تحميل الأجهزة',
                'failed_to_load_repositories': 'فشل تحميل المستودعات',
                'select_connection': 'الرجاء اختيار اتصال لـ {action}',
                'select_all_plugin_fields': 'الرجاء اختيار جميع الحقول',
                
                # Window titles
                'an_interactive_repo_terminal': 'محطة طرفية تفاعلية للمستودع',
                'an_interactive_machine_terminal': 'محطة طرفية تفاعلية للجهاز',
                
                # File Browser tab
                'file_browser': 'مستعرض الملفات',
                'local_files': 'الملفات المحلية',
                'remote_files': 'الملفات البعيدة',
                'file_preview': 'معاينة الملف',
                'show_preview': 'إظهار المعاينة',
                'hide_preview': 'إخفاء المعاينة',
                
                # File types and navigation
                'file': 'ملف',
                'folder': 'مجلد',
                'name': 'الاسم',
                'size': 'الحجم',
                'modified': 'تم التعديل',
                'type': 'النوع',
                'permissions': 'الصلاحيات',
                'owner': 'المالك',
                'parent_directory': 'المجلد الأصلي',
                'home': 'الصفحة الرئيسية',
                'refresh': 'تحديث',
                'new_folder': 'مجلد جديد',
                'open': 'فتح',
                'delete': 'حذف',
                'rename': 'إعادة تسمية',
                'properties': 'خصائص',
                
                # Connection and status
                'connected': 'متصل',
                'not_connected': 'غير متصل',
                'connecting': 'جار الاتصال...',
                'connection_failed': 'فشل الاتصال',
                'failed_connect_remote': 'فشل الاتصال بالخادم البعيد: {error}',
                
                # Search and filter
                'search': 'بحث:',
                'clear': 'مسح',
                'filtered': 'مُصفّى',
                
                # Transfer operations
                'upload_arrow': '← رفع',
                'download_arrow': 'تحميل →',
                'upload_selected': 'رفع المحدد',
                'download_selected': 'تحميل المحدد',
                'confirm_upload': 'تأكيد الرفع',
                'confirm_download': 'تأكيد التحميل',
                'upload_confirm_message': 'رفع التالي إلى {path}:\n\n{files}',
                'download_confirm_message': 'تحميل التالي إلى {path}:\n\n{files}',
                'transfer_progress': 'تقدم النقل',
                'overall_progress': 'التقدم الإجمالي',
                'current_file': 'الملف الحالي',
                'preparing_transfer': 'جار إعداد النقل...',
                'dry_run_mode': 'وضع التجربة - ',
                'completed': 'مكتمل',
                'transferred': 'تم نقل الملفات',
                'transfer_complete': 'اكتمل النقل',
                'transfer_complete_message': 'تم إكمال النقل بنجاح!\n\nتم نقل: {count} ملف',
                'transfer_cancelled': 'تم إلغاء النقل',
                'transfer_cancelled_message': 'تم إلغاء النقل.\n\nاكتمل: {completed} من {total} ملف',
                'transfer_failed': 'فشل النقل',
                'transfer_options': 'خيارات النقل',
                
                # File operations and errors
                'failed_list_local': 'فشل في سرد الدليل المحلي: {error}',
                'failed_list_remote': 'فشل في سرد الدليل البعيد: {error}',
                'failed_refresh_remote': 'فشل في تحديث البعيد: {error}',
                'invalid_directory': 'مسار دليل غير صالح',
                'invalid_path': 'مسار غير صالح: {error}',
                'loading_remote_files': 'جار تحميل الملفات البعيدة...',
                'local_items': 'محلي: {count} عنصر',
                'remote_items': 'بعيد: {count} عنصر',
                'select_files_to_transfer': 'الرجاء تحديد ملفات للنقل',
                'preview_size_limit': 'الملف كبير جداً للمعاينة (الحد: 1 ميجابايت)',
                'preview_error': 'خطأ في تحميل المعاينة: {error}',
                'enter_folder_name': 'أدخل اسم المجلد:',
                'folder_name': 'اسم المجلد',
                'folder_exists': 'المجلد موجود بالفعل',
                'failed_create_folder': 'فشل في إنشاء المجلد: {error}',
                'confirm_delete': 'تأكيد الحذف',
                'delete_confirm_message': 'هل أنت متأكد من حذف:\n\n{files}',
                'failed_delete': 'فشل في الحذف: {error}',
                'rename_item': 'إعادة تسمية العنصر',
                'enter_new_name': 'أدخل الاسم الجديد:',
                'item_exists': 'يوجد عنصر بهذا الاسم بالفعل',
                'failed_rename': 'فشل في إعادة التسمية: {error}',
                'close': 'إغلاق',
                
                # Properties dialog
                'properties_title': 'خصائص - {name}',
                'path': 'المسار:',
                'file_size': 'الحجم:',
                'folder_contents': 'المحتويات:',
                'items_with_size': '{count} عنصر، {size}',
                'modified_time': 'تم التعديل:',
                'permissions_label': 'الصلاحيات:',
                'owner_label': 'المالك:',
                
                # Transfer options dialog
                'basic_options': 'خيارات أساسية',
                'overwrite_existing': 'استبدال الملفات الموجودة',
                'skip_existing': 'تخطي الملفات الموجودة',
                'update_newer': 'تحديث الملفات الأحدث فقط',
                'delete_extra': 'حذف الملفات الإضافية في الوجهة (مرآة)',
                'dry_run': 'تشغيل تجريبي (عرض التغييرات فقط)',
                'advanced_options': 'خيارات متقدمة',
                'preserve_timestamps': 'الحفاظ على الطوابع الزمنية',
                'preserve_permissions': 'الحفاظ على الصلاحيات',
                'compress_transfer': 'ضغط أثناء النقل',
                'verify_checksums': 'التحقق من المجاميع الاختبارية بعد النقل',
                'exclude_patterns': 'أنماط الاستبعاد',
                'exclude_help': 'أدخل الأنماط المراد استبعادها (واحد في كل سطر):',
                'exclude_examples': 'أمثلة: *.tmp، .git/، __pycache__/',
                'bandwidth_limit': 'حد النطاق الترددي',
                'limit_bandwidth': 'تحديد النطاق الترددي',
                'kb_per_second': 'كيلوبايت/ثانية',
                'save_as_default': 'حفظ كافتراضي',
                
                # Additional File Browser keys
                'preview': 'معاينة',
                'cut': 'قص',
                'copy': 'نسخ',
                'paste': 'لصق',
                'warning': 'تحذير',
                'connect_first': 'الرجاء الاتصال بالخادم البعيد أولاً',
                'not_implemented': 'غير مطبق',
                'delete_not_implemented': 'وظيفة الحذف غير مطبقة لأسباب أمنية.',
                'paste_not_implemented': 'وظيفة اللصق لم يتم تطبيقها بعد.',
                'rename_not_implemented': 'وظيفة إعادة التسمية لم يتم تطبيقها بعد.',
                'hide_preview': 'إخفاء المعاينة',
                'show_preview': 'إظهار المعاينة',
                'loading_preview': 'جار تحميل المعاينة...',
                'file_handling': 'معالجة الملفات',
                'skip_newer': 'تخطي الملفات الأحدث على المستقبل',
                'delete_after': 'حذف ملفات المصدر بعد نقل ناجح',
                'performance': 'الأداء',
                'compress': 'ضغط البيانات أثناء النقل',
                'bw_help': '(0 = غير محدود)',
                'exclude_info': 'أدخل الأنماط المراد استبعادها (واحد في كل سطر):',
                'common_excludes': 'شائعة:',
                'test_mode': 'وضع الاختبار',
                'save': 'حفظ',
                'options_saved': 'تم حفظ خيارات النقل',
                
                # Tooltips
                'navigate_up_tooltip': 'الانتقال إلى المجلد الأصلي',
                'navigate_home_tooltip': 'الذهاب إلى الدليل الرئيسي',
                'refresh_tooltip': 'تحديث قائمة الملفات',
                'upload_tooltip': 'رفع الملفات المحددة إلى الخادم',
                'download_tooltip': 'تنزيل الملفات المحددة من الخادم',
                'options_tooltip': 'تكوين خيارات النقل',
                'transfer_actions': 'إجراءات النقل',
                'select_files_to_transfer': 'حدد الملفات للنقل',
                'sync_progress': 'تقدم المزامنة',
                'preparing_sync': 'تحضير المزامنة...',
                'preview_mode': 'وضع المعاينة - ',
                'sync_details': 'تفاصيل المزامنة',
                'progress': 'التقدم',
                'sync_completed_successfully': 'تمت المزامنة بنجاح!',
                'sync_failed': 'فشلت المزامنة!',
                'sync_error': 'خطأ في المزامنة',
            },
            
            'ru': {
                # General
                'app_title': 'Инструменты Rediacc CLI',
                'ready': 'Готово',
                'error': 'Ошибка',
                'success': 'Успех',
                'confirm': 'Подтвердить',
                'cancel': 'Отмена',
                'yes': 'Да',
                'no': 'Нет',
                'loading': 'Загрузка...',
                'logout': 'Выход',
                'language': 'Язык',
                
                # Login window
                'login_title': 'Rediacc CLI - Вход',
                'login_header': 'Вход в Rediacc CLI',
                'email': 'Электронная почта:',
                'password': 'Пароль:',
                'master_password': 'Мастер-пароль:',
                'login': 'Войти',
                'logging_in': 'Вход...',
                'login_successful': 'Вход выполнен успешно!',
                'login_failed': 'Ошибка входа',
                'please_enter_credentials': 'Пожалуйста, введите электронную почту и пароль',
                
                # 2FA translations
                'tfa_code': 'Код 2FA',
                'tfa_help': 'Введите 6-значный код из вашего приложения аутентификации',
                'tfa_required': 'Требуется двухфакторная аутентификация. Пожалуйста, введите ваш 6-значный код.',
                'enter_tfa_code': 'Введите код 2FA: ',
                
                # Main window
                'user': 'Пользователь:',
                'logout_confirm': 'Вы уверены, что хотите выйти?',
                'resource_selection': 'Выбор ресурсов',
                'team': 'Команда:',
                'machine': 'Машина:',
                'repository': 'Репозиторий:',
                
                # Tabs
                'plugin_manager': 'Менеджер плагинов',
                'terminal_access': 'Доступ к терминалу',
                'file_sync': 'Синхронизация файлов',
                
                # Plugin Manager tab
                'plugin_management': 'Управление плагинами',
                'available_plugins': 'Доступные плагины',
                'refresh_plugins': 'Обновить плагины',
                'connect_to_plugin': 'Подключиться к плагину',
                'plugin': 'Плагин:',
                'local_port': 'Локальный порт',
                'auto_port': 'Авто (7111-9111)',
                'manual_port': 'Вручную:',
                'connect': 'Подключить',
                'active_connections': 'Активные подключения',
                'open_in_browser': 'Открыть в браузере',
                'copy_url': 'Копировать URL',
                'disconnect': 'Отключить',
                'refresh_status': 'Обновить статус',
                'plugin_tip': 'Совет: Дважды щелкните для открытия URL • Ctrl+C для копирования URL',
                'found_plugins': 'Найдено плагинов: {count}',
                'found_connections': 'Найдено активных подключений: {count}',
                'connecting_to': 'Подключение к {plugin}...',
                'disconnecting': 'Отключение {plugin}...',
                'disconnect_confirm': 'Отключить {plugin}?',
                'successfully_connected': 'Успешно подключено к {plugin}',
                'access_at': 'Доступ по адресу: {url}',
                'connection_failed': 'Ошибка подключения',
                'disconnected': '{plugin} отключен',
                'disconnect_failed': 'Ошибка отключения',
                'opened_in_browser': '{url} открыт в браузере',
                'copied_to_clipboard': '{url} скопирован в буфер обмена',
                'port_error': 'Пожалуйста, введите номер порта',
                'port_range_error': 'Порт должен быть между 1024 и 65535',
                'invalid_port': 'Недействительный номер порта',
                
                # Terminal tab
                'command': 'Команда:',
                'execute_command': 'Выполнить команду',
                'open_repo_terminal': 'Открыть интерактивный терминал репозитория',
                'open_machine_terminal': 'Открыть интерактивный терминал машины',
                'output': 'Вывод:',
                'command_executed': 'Команда выполнена',
                'executing_command': 'Выполнение команды...',
                'terminal_instructions': 'Чтобы открыть {description}, выполните эту команду в окне терминала:',
                'or_from_any_directory': 'Или из любого каталога:',
                'launched_terminal': 'Окно терминала запущено...',
                'launched_wt': 'Запущено в Windows Terminal...',
                'launched_wsl': 'Запущено в новом окне WSL...',
                'could_not_launch': 'Примечание: Не удалось автоматически запустить терминал в WSL.',
                'select_all_fields': 'Пожалуйста, выберите команду, машину, репозиторий и введите команду',
                'select_team_machine_repo': 'Пожалуйста, выберите команду, машину и репозиторий',
                'select_team_machine': 'Пожалуйста, выберите команду и машину',
                
                # File Sync tab
                'direction': 'Направление:',
                'upload': 'Загрузить',
                'download': 'Скачать',
                'local_path': 'Локальный путь:',
                'browse': 'Обзор...',
                'options': 'Параметры',
                'mirror_delete': 'Зеркало (удалить лишние файлы)',
                'verify_transfer': 'Проверить после передачи',
                'preview_changes': 'Предварительный просмотр изменений (--confirm)',
                'start_sync': 'Начать синхронизацию',
                'sync_completed': 'Синхронизация завершена',
                'starting_sync': 'Начало {direction}...',
                'fill_all_fields': 'Пожалуйста, заполните все поля',
                
                # Status messages
                'loading_teams': 'Загрузка команд...',
                'loading_machines': 'Загрузка машин для {team}...',
                'loading_repositories': 'Загрузка репозиториев для {team}...',
                'loading_plugins': 'Загрузка плагинов...',
                'refreshing_connections': 'Обновление подключений...',
                'authentication_expired': 'Аутентификация истекла. Пожалуйста, войдите снова.',
                'session_expired': 'Ваша сессия истекла. Пожалуйста, войдите снова.',
                
                # Error messages
                'failed_to_load_teams': 'Не удалось загрузить команды',
                'failed_to_load_machines': 'Не удалось загрузить машины',
                'failed_to_load_repositories': 'Не удалось загрузить репозитории',
                'select_connection': 'Пожалуйста, выберите подключение для {action}',
                'select_all_plugin_fields': 'Пожалуйста, выберите все поля',
                
                # Window titles
                'an_interactive_repo_terminal': 'интерактивный терминал репозитория',
                'an_interactive_machine_terminal': 'интерактивный терминал машины',
                
                # File Browser tab
                'file_browser': 'Файловый браузер',
                'local_files': 'Локальные файлы',
                'remote_files': 'Удаленные файлы',
                'file_preview': 'Предпросмотр файла',
                'show_preview': 'Показать предпросмотр',
                'hide_preview': 'Скрыть предпросмотр',
                
                # File types and navigation
                'file': 'Файл',
                'folder': 'Папка',
                'name': 'Имя',
                'size': 'Размер',
                'modified': 'Изменено',
                'type': 'Тип',
                'permissions': 'Права',
                'owner': 'Владелец',
                'parent_directory': 'Родительская папка',
                'home': 'Домой',
                'refresh': 'Обновить',
                'new_folder': 'Новая папка',
                'open': 'Открыть',
                'delete': 'Удалить',
                'rename': 'Переименовать',
                'properties': 'Свойства',
                
                # Connection and status
                'connected': 'Подключено',
                'not_connected': 'Не подключено',
                'connecting': 'Подключение...',
                'connection_failed': 'Ошибка подключения',
                'failed_connect_remote': 'Не удалось подключиться к удаленному: {error}',
                
                # Search and filter
                'search': 'Поиск:',
                'clear': 'Очистить',
                'filtered': 'отфильтровано',
                
                # Transfer operations
                'upload_arrow': 'Загрузить →',
                'download_arrow': '← Скачать',
                'upload_selected': 'Загрузить выбранное',
                'download_selected': 'Скачать выбранное',
                'confirm_upload': 'Подтвердить загрузку',
                'confirm_download': 'Подтвердить скачивание',
                'upload_confirm_message': 'Загрузить следующее в {path}:\n\n{files}',
                'download_confirm_message': 'Скачать следующее в {path}:\n\n{files}',
                'transfer_progress': 'Прогресс передачи',
                'overall_progress': 'Общий прогресс',
                'current_file': 'Текущий файл',
                'preparing_transfer': 'Подготовка передачи...',
                'dry_run_mode': 'РЕЖИМ ТЕСТИРОВАНИЯ - ',
                'completed': 'завершено',
                'transferred': 'Файлов передано',
                'transfer_complete': 'Передача завершена',
                'transfer_complete_message': 'Передача успешно завершена!\n\nПередано: {count} файлов',
                'transfer_cancelled': 'Передача отменена',
                'transfer_cancelled_message': 'Передача была отменена.\n\nЗавершено: {completed} из {total} файлов',
                'transfer_failed': 'Ошибка передачи',
                'transfer_options': 'Параметры передачи',
                
                # File operations and errors
                'failed_list_local': 'Не удалось получить список локального каталога: {error}',
                'failed_list_remote': 'Не удалось получить список удаленного каталога: {error}',
                'failed_refresh_remote': 'Не удалось обновить удаленный: {error}',
                'invalid_directory': 'Недопустимый путь к каталогу',
                'invalid_path': 'Недопустимый путь: {error}',
                'loading_remote_files': 'Загрузка удаленных файлов...',
                'local_items': 'Локально: {count} элементов',
                'remote_items': 'Удаленно: {count} элементов',
                'select_files_to_transfer': 'Пожалуйста, выберите файлы для передачи',
                'preview_size_limit': 'Файл слишком большой для предпросмотра (лимит: 1МБ)',
                'preview_error': 'Ошибка загрузки предпросмотра: {error}',
                'enter_folder_name': 'Введите имя папки:',
                'folder_name': 'Имя папки',
                'folder_exists': 'Папка уже существует',
                'failed_create_folder': 'Не удалось создать папку: {error}',
                'confirm_delete': 'Подтвердить удаление',
                'delete_confirm_message': 'Вы уверены, что хотите удалить:\n\n{files}',
                'failed_delete': 'Не удалось удалить: {error}',
                'rename_item': 'Переименовать элемент',
                'enter_new_name': 'Введите новое имя:',
                'item_exists': 'Элемент с таким именем уже существует',
                'failed_rename': 'Не удалось переименовать: {error}',
                'close': 'Закрыть',
                
                # Properties dialog
                'properties_title': 'Свойства - {name}',
                'path': 'Путь:',
                'file_size': 'Размер:',
                'folder_contents': 'Содержимое:',
                'items_with_size': '{count} элементов, {size}',
                'modified_time': 'Изменено:',
                'permissions_label': 'Права:',
                'owner_label': 'Владелец:',
                
                # Transfer options dialog
                'basic_options': 'Основные параметры',
                'overwrite_existing': 'Перезаписать существующие файлы',
                'skip_existing': 'Пропустить существующие файлы',
                'update_newer': 'Обновить только более новые файлы',
                'delete_extra': 'Удалить лишние файлы в назначении (зеркало)',
                'dry_run': 'Тестовый запуск (только показать изменения)',
                'advanced_options': 'Расширенные параметры',
                'preserve_timestamps': 'Сохранить временные метки',
                'preserve_permissions': 'Сохранить права доступа',
                'compress_transfer': 'Сжимать при передаче',
                'verify_checksums': 'Проверить контрольные суммы после передачи',
                'exclude_patterns': 'Шаблоны исключения',
                'exclude_help': 'Введите шаблоны для исключения (по одному на строку):',
                'exclude_examples': 'Примеры: *.tmp, .git/, __pycache__/',
                'bandwidth_limit': 'Ограничение пропускной способности',
                'limit_bandwidth': 'Ограничить пропускную способность',
                'kb_per_second': 'КБ/с',
                'save_as_default': 'Сохранить как значение по умолчанию',
                
                # Additional File Browser keys
                'preview': 'Предпросмотр',
                'cut': 'Вырезать',
                'copy': 'Копировать',
                'paste': 'Вставить',
                'warning': 'Предупреждение',
                'connect_first': 'Пожалуйста, сначала подключитесь к удаленному',
                'not_implemented': 'Не реализовано',
                'delete_not_implemented': 'Функция удаления не реализована по соображениям безопасности.',
                'paste_not_implemented': 'Функция вставки еще не реализована.',
                'rename_not_implemented': 'Функция переименования еще не реализована.',
                'hide_preview': 'Скрыть предпросмотр',
                'show_preview': 'Показать предпросмотр',
                'loading_preview': 'Загрузка предпросмотра...',
                'file_handling': 'Обработка файлов',
                'skip_newer': 'Пропустить более новые файлы на приемнике',
                'delete_after': 'Удалить исходные файлы после успешной передачи',
                'performance': 'Производительность',
                'compress': 'Сжимать данные при передаче',
                'bw_help': '(0 = без ограничений)',
                'exclude_info': 'Введите шаблоны для исключения (по одному на строку):',
                'common_excludes': 'Обычные:',
                'test_mode': 'Тестовый режим',
                'save': 'Сохранить',
                'options_saved': 'Параметры передачи сохранены',
                
                # Tooltips
                'navigate_up_tooltip': 'Перейти в родительскую папку',
                'navigate_home_tooltip': 'Перейти в домашний каталог',
                'refresh_tooltip': 'Обновить список файлов',
                'upload_tooltip': 'Загрузить выбранные файлы на удаленный сервер',
                'download_tooltip': 'Скачать выбранные файлы с удаленного сервера',
                'options_tooltip': 'Настроить параметры передачи',
                'transfer_actions': 'Действия передачи',
                'select_files_to_transfer': 'Выберите файлы для передачи',
                'sync_progress': 'Прогресс синхронизации',
                'preparing_sync': 'Подготовка синхронизации...',
                'preview_mode': 'РЕЖИМ ПРЕДПРОСМОТРА - ',
                'sync_details': 'Детали синхронизации',
                'progress': 'Прогресс',
                'sync_completed_successfully': 'Синхронизация успешно завершена!',
                'sync_failed': 'Синхронизация не удалась!',
                'sync_error': 'Ошибка синхронизации',
            },
            
            'tr': {
                # General
                'app_title': 'Rediacc CLI Araçları',
                'ready': 'Hazır',
                'error': 'Hata',
                'success': 'Başarılı',
                'confirm': 'Onayla',
                'cancel': 'İptal',
                'yes': 'Evet',
                'no': 'Hayır',
                'loading': 'Yükleniyor...',
                'logout': 'Çıkış',
                'language': 'Dil',
                
                # Login window
                'login_title': 'Rediacc CLI - Giriş',
                'login_header': 'Rediacc CLI Giriş',
                'email': 'E-posta:',
                'password': 'Şifre:',
                'master_password': 'Ana Şifre:',
                'login': 'Giriş Yap',
                'logging_in': 'Giriş yapılıyor...',
                'login_successful': 'Giriş başarılı!',
                'login_failed': 'Giriş başarısız',
                'please_enter_credentials': 'Lütfen e-posta ve şifre girin',
                
                # 2FA translations
                'tfa_code': '2FA Kodu',
                'tfa_help': 'Kimlik doğrulama uygulamanızdaki 6 haneli kodu girin',
                'tfa_required': 'İki faktörlü kimlik doğrulama gerekli. Lütfen 6 haneli kodunuzu girin.',
                'enter_tfa_code': '2FA kodunu girin: ',
                
                # Main window
                'user': 'Kullanıcı:',
                'logout_confirm': 'Çıkış yapmak istediğinizden emin misiniz?',
                'resource_selection': 'Kaynak Seçimi',
                'team': 'Takım:',
                'machine': 'Makine:',
                'repository': 'Depo:',
                
                # Tabs
                'plugin_manager': 'Eklenti Yöneticisi',
                'terminal_access': 'Terminal Erişimi',
                'file_sync': 'Dosya Senkronizasyonu',
                
                # Plugin Manager tab
                'plugin_management': 'Eklenti Yönetimi',
                'available_plugins': 'Mevcut Eklentiler',
                'refresh_plugins': 'Eklentileri Yenile',
                'connect_to_plugin': 'Eklentiye Bağlan',
                'plugin': 'Eklenti:',
                'local_port': 'Yerel Port',
                'auto_port': 'Otomatik (7111-9111)',
                'manual_port': 'Manuel:',
                'connect': 'Bağlan',
                'active_connections': 'Aktif Bağlantılar',
                'open_in_browser': 'Tarayıcıda Aç',
                'copy_url': 'URL\'yi Kopyala',
                'disconnect': 'Bağlantıyı Kes',
                'refresh_status': 'Durumu Yenile',
                'plugin_tip': 'İpucu: URL\'yi açmak için çift tıklayın • URL\'yi kopyalamak için Ctrl+C',
                'found_plugins': '{count} eklenti bulundu',
                'found_connections': '{count} aktif bağlantı bulundu',
                'connecting_to': '{plugin} bağlanılıyor...',
                'disconnecting': '{plugin} bağlantısı kesiliyor...',
                'disconnect_confirm': '{plugin} bağlantısını kesmek istiyor musunuz?',
                'successfully_connected': '{plugin} başarıyla bağlandı',
                'access_at': 'Erişim adresi: {url}',
                'connection_failed': 'Bağlantı başarısız',
                'disconnected': '{plugin} bağlantısı kesildi',
                'disconnect_failed': 'Bağlantı kesme başarısız',
                'opened_in_browser': '{url} tarayıcıda açıldı',
                'copied_to_clipboard': '{url} panoya kopyalandı',
                'port_error': 'Lütfen bir port numarası girin',
                'port_range_error': 'Port 1024 ile 65535 arasında olmalıdır',
                'invalid_port': 'Geçersiz port numarası',
                
                # Terminal tab
                'command': 'Komut:',
                'execute_command': 'Komutu Çalıştır',
                'open_repo_terminal': 'Etkileşimli Depo Terminali Aç',
                'open_machine_terminal': 'Etkileşimli Makine Terminali Aç',
                'output': 'Çıktı:',
                'command_executed': 'Komut çalıştırıldı',
                'executing_command': 'Komut çalıştırılıyor...',
                'terminal_instructions': '{description} açmak için, terminal penceresinde bu komutu çalıştırın:',
                'or_from_any_directory': 'Veya herhangi bir dizinden:',
                'launched_terminal': 'Terminal penceresi başlatıldı...',
                'launched_wt': 'Windows Terminal\'de başlatıldı...',
                'launched_wsl': 'Yeni WSL penceresinde başlatıldı...',
                'could_not_launch': 'Not: WSL\'de terminal otomatik olarak başlatılamadı.',
                'select_all_fields': 'Lütfen takım, makine, depo seçin ve bir komut girin',
                'select_team_machine_repo': 'Lütfen takım, makine ve depo seçin',
                'select_team_machine': 'Lütfen takım ve makine seçin',
                
                # File Sync tab
                'direction': 'Yön:',
                'upload': 'Yükle',
                'download': 'İndir',
                'local_path': 'Yerel Yol:',
                'browse': 'Gözat...',
                'options': 'Seçenekler',
                'mirror_delete': 'Ayna (ekstra dosyaları sil)',
                'verify_transfer': 'Aktarımdan sonra doğrula',
                'preview_changes': 'Değişiklikleri önizle (--confirm)',
                'start_sync': 'Senkronizasyonu Başlat',
                'sync_completed': 'Senkronizasyon tamamlandı',
                'starting_sync': '{direction} başlatılıyor...',
                'fill_all_fields': 'Lütfen tüm alanları doldurun',
                
                # Status messages
                'loading_teams': 'Takımlar yükleniyor...',
                'loading_machines': '{team} için makineler yükleniyor...',
                'loading_repositories': '{team} için depolar yükleniyor...',
                'loading_plugins': 'Eklentiler yükleniyor...',
                'refreshing_connections': 'Bağlantılar yenileniyor...',
                'authentication_expired': 'Kimlik doğrulama süresi doldu. Lütfen tekrar giriş yapın.',
                'session_expired': 'Oturumunuzun süresi doldu. Lütfen tekrar giriş yapın.',
                
                # Error messages
                'failed_to_load_teams': 'Takımlar yüklenemedi',
                'failed_to_load_machines': 'Makineler yüklenemedi',
                'failed_to_load_repositories': 'Depolar yüklenemedi',
                'select_connection': '{action} için lütfen bir bağlantı seçin',
                'select_all_plugin_fields': 'Lütfen tüm alanları seçin',
                
                # Window titles
                'an_interactive_repo_terminal': 'etkileşimli depo terminali',
                'an_interactive_machine_terminal': 'etkileşimli makine terminali',
                
                # File Browser tab
                'file_browser': 'Dosya Tarayıcı',
                'local_files': 'Yerel Dosyalar',
                'remote_files': 'Uzak Dosyalar',
                'file_preview': 'Dosya Önizleme',
                'show_preview': 'Önizlemeyi Göster',
                'hide_preview': 'Önizlemeyi Gizle',
                
                # File types and navigation
                'file': 'Dosya',
                'folder': 'Klasör',
                'name': 'Ad',
                'size': 'Boyut',
                'modified': 'Değiştirilme',
                'type': 'Tür',
                'permissions': 'İzinler',
                'owner': 'Sahip',
                'parent_directory': 'Üst Dizin',
                'home': 'Ana Sayfa',
                'refresh': 'Yenile',
                'new_folder': 'Yeni Klasör',
                'open': 'Aç',
                'delete': 'Sil',
                'rename': 'Yeniden Adlandır',
                'properties': 'Özellikler',
                
                # Connection and status
                'connected': 'Bağlı',
                'not_connected': 'Bağlı değil',
                'connecting': 'Bağlanıyor...',
                'connection_failed': 'Bağlantı Başarısız',
                'failed_connect_remote': 'Uzak bağlantı başarısız: {error}',
                
                # Search and filter
                'search': 'Ara:',
                'clear': 'Temizle',
                'filtered': 'filtrelenmiş',
                
                # Transfer operations
                'upload_arrow': 'Yükle →',
                'download_arrow': '← İndir',
                'upload_selected': 'Seçilenleri yükle',
                'download_selected': 'Seçilenleri indir',
                'confirm_upload': 'Yüklemeyi Onayla',
                'confirm_download': 'İndirmeyi Onayla',
                'upload_confirm_message': 'Aşağıdakiler {path} konumuna yüklenecek:\n\n{files}',
                'download_confirm_message': 'Aşağıdakiler {path} konumuna indirilecek:\n\n{files}',
                'transfer_progress': 'Aktarım İlerlemesi',
                'overall_progress': 'Genel İlerleme',
                'current_file': 'Geçerli Dosya',
                'preparing_transfer': 'Aktarım hazırlanıyor...',
                'dry_run_mode': 'TEST MODU - ',
                'completed': 'tamamlandı',
                'transferred': 'Dosya aktarıldı',
                'transfer_complete': 'Aktarım Tamamlandı',
                'transfer_complete_message': 'Aktarım başarıyla tamamlandı!\n\nAktarılan: {count} dosya',
                'transfer_cancelled': 'Aktarım İptal Edildi',
                'transfer_cancelled_message': 'Aktarım iptal edildi.\n\nTamamlanan: {completed} / {total} dosya',
                'transfer_failed': 'Aktarım Başarısız',
                'transfer_options': 'Aktarım Seçenekleri',
                
                # File operations and errors
                'failed_list_local': 'Yerel dizin listelenemedi: {error}',
                'failed_list_remote': 'Uzak dizin listelenemedi: {error}',
                'failed_refresh_remote': 'Uzak yenilenemedi: {error}',
                'invalid_directory': 'Geçersiz dizin yolu',
                'invalid_path': 'Geçersiz yol: {error}',
                'loading_remote_files': 'Uzak dosyalar yükleniyor...',
                'local_items': 'Yerel: {count} öğe',
                'remote_items': 'Uzak: {count} öğe',
                'select_files_to_transfer': 'Lütfen aktarılacak dosyaları seçin',
                'preview_size_limit': 'Dosya önizleme için çok büyük (limit: 1MB)',
                'preview_error': 'Önizleme yükleme hatası: {error}',
                'enter_folder_name': 'Klasör adını girin:',
                'folder_name': 'Klasör Adı',
                'folder_exists': 'Klasör zaten mevcut',
                'failed_create_folder': 'Klasör oluşturulamadı: {error}',
                'confirm_delete': 'Silmeyi Onayla',
                'delete_confirm_message': 'Şunları silmek istediğinizden emin misiniz:\n\n{files}',
                'failed_delete': 'Silinemedi: {error}',
                'rename_item': 'Öğeyi Yeniden Adlandır',
                'enter_new_name': 'Yeni adı girin:',
                'item_exists': 'Bu isimde bir öğe zaten mevcut',
                'failed_rename': 'Yeniden adlandırılamadı: {error}',
                'close': 'Kapat',
                
                # Properties dialog
                'properties_title': 'Özellikler - {name}',
                'path': 'Yol:',
                'file_size': 'Boyut:',
                'folder_contents': 'İçerik:',
                'items_with_size': '{count} öğe, {size}',
                'modified_time': 'Değiştirilme:',
                'permissions_label': 'İzinler:',
                'owner_label': 'Sahip:',
                
                # Transfer options dialog
                'basic_options': 'Temel Seçenekler',
                'overwrite_existing': 'Mevcut dosyaların üzerine yaz',
                'skip_existing': 'Mevcut dosyaları atla',
                'update_newer': 'Sadece daha yeni dosyaları güncelle',
                'delete_extra': 'Hedefteki fazla dosyaları sil (ayna)',
                'dry_run': 'Test çalıştırması (sadece değişiklikleri göster)',
                'advanced_options': 'Gelişmiş Seçenekler',
                'preserve_timestamps': 'Zaman damgalarını koru',
                'preserve_permissions': 'İzinleri koru',
                'compress_transfer': 'Aktarım sırasında sıkıştır',
                'verify_checksums': 'Aktarımdan sonra sağlama toplamlarını doğrula',
                'exclude_patterns': 'Hariç Tutma Desenleri',
                'exclude_help': 'Hariç tutulacak desenleri girin (satır başına bir tane):',
                'exclude_examples': 'Örnekler: *.tmp, .git/, __pycache__/',
                'bandwidth_limit': 'Bant Genişliği Sınırı',
                'limit_bandwidth': 'Bant genişliğini sınırla',
                'kb_per_second': 'KB/sn',
                'save_as_default': 'Varsayılan olarak kaydet',
                
                # Additional File Browser keys
                'preview': 'Ön izleme',
                'cut': 'Kes',
                'copy': 'Kopyala',
                'paste': 'Yapıştır',
                'warning': 'Uyarı',
                'connect_first': 'Lütfen önce uzak sunucuya bağlanın',
                'not_implemented': 'Henüz Uygulanmadı',
                'delete_not_implemented': 'Silme işlevi güvenlik nedenleriyle uygulanmamıştır.',
                'paste_not_implemented': 'Yapıştırma işlevi henüz uygulanmamıştır.',
                'rename_not_implemented': 'Yeniden adlandırma işlevi henüz uygulanmamıştır.',
                'hide_preview': 'Ön izlemeyi gizle',
                'show_preview': 'Ön izlemeyi göster',
                'loading_preview': 'Ön izleme yükleniyor...',
                'file_handling': 'Dosya İşleme',
                'skip_newer': 'Alıcıda daha yeni olan dosyaları atla',
                'delete_after': 'Başarılı aktarımdan sonra kaynak dosyaları sil',
                'performance': 'Performans',
                'compress': 'Aktarım sırasında verileri sıkıştır',
                'bw_help': '(0 = sınırsız)',
                'exclude_info': 'Hariç tutulacak desenleri girin (satır başına bir tane):',
                'common_excludes': 'Yaygın:',
                'test_mode': 'Test Modu',
                'save': 'Kaydet',
                'options_saved': 'Aktarım seçenekleri kaydedildi',
                
                # Tooltips
                'navigate_up_tooltip': 'Üst klasöre git',
                'navigate_home_tooltip': 'Ana dizine git',
                'refresh_tooltip': 'Dosya listesini yenile',
                'upload_tooltip': 'Seçili dosyaları uzağa yükle',
                'download_tooltip': 'Seçili dosyaları uzaktan indir',
                'options_tooltip': 'Aktarım seçeneklerini yapılandır',
                'transfer_actions': 'Aktarım İşlemleri',
                'select_files_to_transfer': 'Aktarılacak dosyaları seçin',
                'sync_progress': 'Senkronizasyon İlerlemesi',
                'preparing_sync': 'Senkronizasyon hazırlanıyor...',
                'preview_mode': 'ÖNİZLEME MODU - ',
                'sync_details': 'Senkronizasyon Detayları',
                'progress': 'İlerleme',
                'sync_completed_successfully': 'Senkronizasyon başarıyla tamamlandı!',
                'sync_failed': 'Senkronizasyon başarısız!',
                'sync_error': 'Senkronizasyon hatası',
            },
            
            'zh': {
                # General
                'app_title': 'Rediacc CLI 工具',
                'ready': '就绪',
                'error': '错误',
                'success': '成功',
                'confirm': '确认',
                'cancel': '取消',
                'yes': '是',
                'no': '否',
                'loading': '加载中...',
                'logout': '登出',
                'language': '语言',
                
                # Login window
                'login_title': 'Rediacc CLI - 登录',
                'login_header': 'Rediacc CLI 登录',
                'email': '电子邮箱：',
                'password': '密码：',
                'master_password': '主密码：',
                'login': '登录',
                'logging_in': '正在登录...',
                'login_successful': '登录成功！',
                'login_failed': '登录失败',
                'please_enter_credentials': '请输入电子邮箱和密码',
                
                # 2FA translations
                'tfa_code': '2FA验证码',
                'tfa_help': '请输入您的身份验证器应用中的6位数字代码',
                'tfa_required': '需要双因素身份验证。请输入您的6位数字代码。',
                'enter_tfa_code': '输入2FA验证码: ',
                
                # Main window
                'user': '用户：',
                'logout_confirm': '您确定要登出吗？',
                'resource_selection': '资源选择',
                'team': '团队：',
                'machine': '机器：',
                'repository': '仓库：',
                
                # Tabs
                'plugin_manager': '插件管理器',
                'terminal_access': '终端访问',
                'file_sync': '文件同步',
                
                # Plugin Manager tab
                'plugin_management': '插件管理',
                'available_plugins': '可用插件',
                'refresh_plugins': '刷新插件',
                'connect_to_plugin': '连接到插件',
                'plugin': '插件：',
                'local_port': '本地端口',
                'auto_port': '自动 (7111-9111)',
                'manual_port': '手动：',
                'connect': '连接',
                'active_connections': '活动连接',
                'open_in_browser': '在浏览器中打开',
                'copy_url': '复制URL',
                'disconnect': '断开连接',
                'refresh_status': '刷新状态',
                'plugin_tip': '提示：双击打开URL • Ctrl+C复制URL',
                'found_plugins': '找到 {count} 个插件',
                'found_connections': '找到 {count} 个活动连接',
                'connecting_to': '正在连接到 {plugin}...',
                'disconnecting': '正在断开 {plugin}...',
                'disconnect_confirm': '断开 {plugin} 连接？',
                'successfully_connected': '成功连接到 {plugin}',
                'access_at': '访问地址：{url}',
                'connection_failed': '连接失败',
                'disconnected': '{plugin} 已断开连接',
                'disconnect_failed': '断开连接失败',
                'opened_in_browser': '{url} 已在浏览器中打开',
                'copied_to_clipboard': '{url} 已复制到剪贴板',
                'port_error': '请输入端口号',
                'port_range_error': '端口必须在1024到65535之间',
                'invalid_port': '无效的端口号',
                
                # Terminal tab
                'command': '命令：',
                'execute_command': '执行命令',
                'open_repo_terminal': '打开交互式仓库终端',
                'open_machine_terminal': '打开交互式机器终端',
                'output': '输出：',
                'command_executed': '命令已执行',
                'executing_command': '正在执行命令...',
                'terminal_instructions': '要打开{description}，请在终端窗口中运行此命令：',
                'or_from_any_directory': '或从任何目录：',
                'launched_terminal': '终端窗口已启动...',
                'launched_wt': '已在Windows Terminal中启动...',
                'launched_wsl': '已在新的WSL窗口中启动...',
                'could_not_launch': '注意：无法在WSL中自动启动终端。',
                'select_all_fields': '请选择团队、机器、仓库并输入命令',
                'select_team_machine_repo': '请选择团队、机器和仓库',
                'select_team_machine': '请选择团队和机器',
                
                # File Sync tab
                'direction': '方向：',
                'upload': '上传',
                'download': '下载',
                'local_path': '本地路径：',
                'browse': '浏览...',
                'options': '选项',
                'mirror_delete': '镜像（删除额外文件）',
                'verify_transfer': '传输后验证',
                'preview_changes': '预览更改 (--confirm)',
                'start_sync': '开始同步',
                'sync_completed': '同步完成',
                'starting_sync': '正在开始{direction}...',
                'fill_all_fields': '请填写所有字段',
                
                # Status messages
                'loading_teams': '正在加载团队...',
                'loading_machines': '正在加载 {team} 的机器...',
                'loading_repositories': '正在加载 {team} 的仓库...',
                'loading_plugins': '正在加载插件...',
                'refreshing_connections': '正在刷新连接...',
                'authentication_expired': '身份验证已过期。请重新登录。',
                'session_expired': '您的会话已过期。请重新登录。',
                
                # Error messages
                'failed_to_load_teams': '加载团队失败',
                'failed_to_load_machines': '加载机器失败',
                'failed_to_load_repositories': '加载仓库失败',
                'select_connection': '请选择一个连接来{action}',
                'select_all_plugin_fields': '请选择所有字段',
                
                # Window titles
                'an_interactive_repo_terminal': '交互式仓库终端',
                'an_interactive_machine_terminal': '交互式机器终端',
                
                # File Browser tab
                'file_browser': '文件浏览器',
                'local_files': '本地文件',
                'remote_files': '远程文件',
                'file_preview': '文件预览',
                'show_preview': '显示预览',
                'hide_preview': '隐藏预览',
                
                # File types and navigation
                'file': '文件',
                'folder': '文件夹',
                'name': '名称',
                'size': '大小',
                'modified': '修改时间',
                'type': '类型',
                'permissions': '权限',
                'owner': '所有者',
                'parent_directory': '上级目录',
                'home': '主目录',
                'refresh': '刷新',
                'new_folder': '新建文件夹',
                'open': '打开',
                'delete': '删除',
                'rename': '重命名',
                'properties': '属性',
                
                # Connection and status
                'connected': '已连接',
                'not_connected': '未连接',
                'connecting': '连接中...',
                'connection_failed': '连接失败',
                'failed_connect_remote': '连接远程失败: {error}',
                
                # Search and filter
                'search': '搜索:',
                'clear': '清除',
                'filtered': '已筛选',
                
                # Transfer operations
                'upload_arrow': '上传 →',
                'download_arrow': '← 下载',
                'upload_selected': '上传选中项',
                'download_selected': '下载选中项',
                'confirm_upload': '确认上传',
                'confirm_download': '确认下载',
                'upload_confirm_message': '将以下内容上传到 {path}:\n\n{files}',
                'download_confirm_message': '将以下内容下载到 {path}:\n\n{files}',
                'transfer_progress': '传输进度',
                'overall_progress': '总体进度',
                'current_file': '当前文件',
                'preparing_transfer': '准备传输中...',
                'dry_run_mode': '模拟运行模式 - ',
                'completed': '已完成',
                'transferred': '文件已传输',
                'transfer_complete': '传输完成',
                'transfer_complete_message': '传输成功完成！\n\n已传输: {count} 个文件',
                'transfer_cancelled': '传输已取消',
                'transfer_cancelled_message': '传输已取消。\n\n已完成: {completed} / {total} 个文件',
                'transfer_failed': '传输失败',
                'transfer_options': '传输选项',
                
                # File operations and errors
                'failed_list_local': '列出本地目录失败: {error}',
                'failed_list_remote': '列出远程目录失败: {error}',
                'failed_refresh_remote': '刷新远程失败: {error}',
                'invalid_directory': '无效的目录路径',
                'invalid_path': '无效的路径: {error}',
                'loading_remote_files': '正在加载远程文件...',
                'local_items': '本地: {count} 项',
                'remote_items': '远程: {count} 项',
                'select_files_to_transfer': '请选择要传输的文件',
                'preview_size_limit': '文件太大无法预览（限制: 1MB）',
                'preview_error': '加载预览时出错: {error}',
                'enter_folder_name': '输入文件夹名称:',
                'folder_name': '文件夹名称',
                'folder_exists': '文件夹已存在',
                'failed_create_folder': '创建文件夹失败: {error}',
                'confirm_delete': '确认删除',
                'delete_confirm_message': '确定要删除以下内容吗:\n\n{files}',
                'failed_delete': '删除失败: {error}',
                'rename_item': '重命名项目',
                'enter_new_name': '输入新名称:',
                'item_exists': '已存在同名项目',
                'failed_rename': '重命名失败: {error}',
                'close': '关闭',
                
                # Properties dialog
                'properties_title': '属性 - {name}',
                'path': '路径:',
                'file_size': '大小:',
                'folder_contents': '内容:',
                'items_with_size': '{count} 项，{size}',
                'modified_time': '修改时间:',
                'permissions_label': '权限:',
                'owner_label': '所有者:',
                
                # Transfer options dialog
                'basic_options': '基本选项',
                'overwrite_existing': '覆盖现有文件',
                'skip_existing': '跳过现有文件',
                'update_newer': '仅更新较新的文件',
                'delete_extra': '删除目标中的额外文件（镜像）',
                'dry_run': '模拟运行（仅显示更改）',
                'advanced_options': '高级选项',
                'preserve_timestamps': '保留时间戳',
                'preserve_permissions': '保留权限',
                'compress_transfer': '传输时压缩',
                'verify_checksums': '传输后验证校验和',
                'exclude_patterns': '排除模式',
                'exclude_help': '输入要排除的模式（每行一个）:',
                'exclude_examples': '示例: *.tmp, .git/, __pycache__/',
                'bandwidth_limit': '带宽限制',
                'limit_bandwidth': '限制带宽',
                'kb_per_second': 'KB/秒',
                'save_as_default': '保存为默认值',
                
                # Additional File Browser keys
                'preview': '预览',
                'cut': '剪切',
                'copy': '复制',
                'paste': '粘贴',
                'warning': '警告',
                'connect_first': '请先连接到远程',
                'not_implemented': '未实现',
                'delete_not_implemented': '出于安全原因，删除功能未实现。',
                'paste_not_implemented': '粘贴功能尚未实现。',
                'rename_not_implemented': '重命名功能尚未实现。',
                'hide_preview': '隐藏预览',
                'show_preview': '显示预览',
                'loading_preview': '正在加载预览...',
                'file_handling': '文件处理',
                'skip_newer': '跳过接收方上较新的文件',
                'delete_after': '成功传输后删除源文件',
                'performance': '性能',
                'compress': '传输期间压缩数据',
                'bw_help': '(0 = 无限制)',
                'exclude_info': '输入要排除的模式（每行一个）:',
                'common_excludes': '常见:',
                'test_mode': '测试模式',
                'save': '保存',
                'options_saved': '传输选项已保存',
                
                # Tooltips
                'navigate_up_tooltip': '导航到父文件夹',
                'navigate_home_tooltip': '转到主目录',
                'refresh_tooltip': '刷新文件列表',
                'upload_tooltip': '将选定的文件上传到远程',
                'download_tooltip': '从远程下载选定的文件',
                'options_tooltip': '配置传输选项',
                'transfer_actions': '传输操作',
                'select_files_to_transfer': '选择要传输的文件',
                'sync_progress': '同步进度',
                'preparing_sync': '正在准备同步...',
                'preview_mode': '预览模式 - ',
                'sync_details': '同步详情',
                'progress': '进度',
                'sync_completed_successfully': '同步成功完成！',
                'sync_failed': '同步失败！',
                'sync_error': '同步错误',
            }
        }
    
    def get_language_config_path(self) -> Path:
        """Get the path to the language configuration file"""
        # Use centralized config directory
        config_dir = get_config_dir()
        return config_dir / 'language_preference.json'
    
    def load_language_preference(self) -> str:
        """Load the saved language preference"""
        config_path = self.get_language_config_path()
        if config_path.exists():
            try:
                with open(config_path, 'r', encoding='utf-8') as f:
                    data = json.load(f)
                    lang = data.get('language', self.DEFAULT_LANGUAGE)
                    if lang in self.LANGUAGES:
                        return lang
            except:
                pass
        return self.DEFAULT_LANGUAGE
    
    def save_language_preference(self, language: str):
        """Save the language preference"""
        if language not in self.LANGUAGES:
            return
        
        config_path = self.get_language_config_path()
        try:
            with open(config_path, 'w', encoding='utf-8') as f:
                json.dump({'language': language}, f, ensure_ascii=False, indent=2)
        except:
            pass
    
    def set_language(self, language: str):
        """Set the current language"""
        if language in self.LANGUAGES:
            self.current_language = language
            self.save_language_preference(language)
            self._notify_observers()
    
    def get(self, key: str, fallback: str = None, **kwargs) -> str:
        """Get a translated string for the current language
        
        Args:
            key: The translation key
            fallback: Optional fallback value if key not found
            **kwargs: Format arguments for the translation string
        """
        translation = self.translations.get(self.current_language, {}).get(key)
        if not translation:
            # Fallback to English
            translation = self.translations.get('en', {}).get(key)
            if not translation:
                # Use provided fallback or key as last resort
                translation = fallback if fallback is not None else key
        
        # Format with provided arguments
        if kwargs:
            try:
                translation = translation.format(**kwargs)
            except:
                pass
        
        return translation
    
    def register_observer(self, callback):
        """Register a callback to be called when language changes"""
        self._observers.append(callback)
    
    def unregister_observer(self, callback):
        """Unregister a language change callback"""
        if callback in self._observers:
            self._observers.remove(callback)
    
    def _notify_observers(self):
        """Notify all observers of language change"""
        for callback in self._observers:
            try:
                callback()
            except:
                pass
    
    def get_language_name(self, code: str) -> str:
        """Get the display name for a language code"""
        return self.LANGUAGES.get(code, code)
    
    def get_language_codes(self) -> list:
        """Get list of available language codes"""
        return list(self.LANGUAGES.keys())
    
    def get_language_names(self) -> list:
        """Get list of language display names"""
        return list(self.LANGUAGES.values())


# Singleton instance
i18n = I18n()