name: "LOGOUT_TEST"
description: "Test logout functionality"
executor: "rediacc-cli.py"

# Note: This test assumes either:
# 1. Previous tests have created and logged in a user (chain variables available)
# 2. Or it needs to create its own test user when run standalone

# For now, let's skip the setup and assume we're already logged in
# This makes the test work both standalone (if already logged in) and as part of a suite

tests:
  - name: "logout"
    command: ["logout"]
    expect:
      success: true
  
  - name: "verify_logout_worked"
    command: ["list", "teams"]
    expect:
      success: false  # This test PASSES when the command FAILS (returns success: false)
                      # because we expect it to fail after logout