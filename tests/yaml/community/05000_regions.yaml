name: "REGIONS_TEST"
description: "Test region creation, renaming, and deletion"
executor: "rediacc-cli.py"

# Export data to chain context for use in subsequent test files
chain_export:
  test_region_name: "${config.test_data.region.name_pattern}"

tests:
  - name: "create_region"
    command: ["create", "region", "${config.test_data.region.name_pattern}"]
    args:
      vault: "{\"provider\": \"aws\", \"zone\": \"us-east-1\"}"
    expect:
      success: true
  
  - name: "update_region_name"
    command: ["update", "region", "${config.test_data.region.name_pattern}", "Updated-${config.test_data.region.name_pattern}"]
    expect:
      success: true